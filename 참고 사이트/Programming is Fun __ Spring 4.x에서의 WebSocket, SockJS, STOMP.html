<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0097)http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/menubar.css"><!--[if lt IE 9]><script src="https://t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script><![endif]--><!--[if gte IE 9]>
<!--><script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/jquery-3.2.1.min.js.다운로드"></script><!--<![endif]-->
<script>var tjQuery = jQuery.noConflict(true);</script><style type="text/css">.tt_article_useless_p_margin p {padding-top:0 !important;padding-bottom:0 !important;margin-top:0 !important;margin-bottom:0 !important;}</style><meta name="referrer" content="always"><link rel="icon" href="http://t1.daumcdn.net/tistory_admin/static/top/favicon_0630.ico"><link rel="apple-touch-icon" href="http://i1.daumcdn.net/thumb/C180x180/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F162C3F284A19E94C432281">
<link rel="apple-touch-icon" sizes="76x76" href="http://i1.daumcdn.net/thumb/C76x76/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F162C3F284A19E94C432281">
<link rel="apple-touch-icon" sizes="120x120" href="http://i1.daumcdn.net/thumb/C120x120/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F162C3F284A19E94C432281">
<link rel="apple-touch-icon" sizes="152x152" href="http://i1.daumcdn.net/thumb/C152x152/?fname=http%3A%2F%2Fcfile24.uf.tistory.com%2Fimage%2F162C3F284A19E94C432281"><meta name="description" content="WebSocket, SockJS, STOMP &quot; style=&quot;clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida..">

<!-- BEGIN OPENGRAPH -->
<link rel="canonical" href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="og:type" content="article"><meta property="og:url" content="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="og:site_name" content="Programming is Fun"><meta property="og:title" content="Spring 4.x에서의 WebSocket, SockJS, STOMP"><meta name="by" content="xyzlast Y2K"><meta property="og:description" content="WebSocket, SockJS, STOMP &quot; style=&quot;clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida.."><meta property="og:image" content="https://t1.daumcdn.net/cssjs/icon/557567EA016E200001">
<!-- END OPENGRAPH -->



<!-- BEGIN TWITTERCARD -->
<meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@TISTORY"><meta name="twitter:title" content="Spring 4.x에서의 WebSocket, SockJS, STOMP"><meta name="twitter:description" content="WebSocket, SockJS, STOMP &quot; style=&quot;clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida.."><meta property="twitter:image" content="https://t1.daumcdn.net/cssjs/icon/557567EA016E200001">
<!-- END TWITTERCARD -->



<!-- BEGIN DAUMAPP -->
<meta property="dg:plink" content="http://netframework.tistory.com/424"><meta name="plink" content="http://netframework.tistory.com/424"><meta name="title" content="Spring 4.x에서의 WebSocket, SockJS, STOMP"><meta name="article:media_name" content="Programming is Fun"><meta property="article:mobile_url" content="http://netframework.tistory.com/m/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="article:pc_url" content="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="article:mobile_view_url" content="http://netframework.tistory.com/m/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="article:pc_view_url" content="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="article:talk_channel_view_url" content="http://netframework.tistory.com/m/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"><meta property="article:pc_service_home" content="http://www.tistory.com"><meta property="article:mobile_service_home" content="http://www.tistory.com/m"><meta property="article:txid" content="328486_424"><meta property="article:published_time" content="2014-07-25T22:35:00+09:00"><meta property="og:regDate" content="20140725223500"><meta property="article:modified_time" content="2014-07-25T22:35:04+09:00">
<!-- END DAUMAPP -->



<!-- BEGIN STRUCTURED_DATA -->
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"BlogPosting","mainEntityOfPage":{"@id":"http:\/\/netframework.tistory.com\/entry\/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"},"url":"http:\/\/netframework.tistory.com\/entry\/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP","headline":"Spring 4.x\uc5d0\uc11c\uc758 WebSocket, SockJS, STOMP","description":"WebSocket, SockJS, STOMP \" style=\"clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: 'Roboto Condensed', Tauri, 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida..","author":{"@type":"Person","name":"xyzlast Y2K"},"image":{"@type":"ImageObject","url":"https:\/\/t1.daumcdn.net\/cssjs\/icon\/557567EA016E200001","width":"800px","height":"800px"},"datePublished":"20140725T22:35:00+09:00","dateModified":"20140725T22:35:04+09:00","publisher":{"@type":"Organization","name":"TISTORY","logo":{"@type":"ImageObject","url":"https:\/\/t1.daumcdn.net\/cssjs\/icon\/557567EA016E200001","width":"800px","height":"800px"}}}</script>
<!-- END STRUCTURED_DATA -->



 
<link rel="alternate" type="application/rss+xml" title="Programming is Fun" href="http://netframework.tistory.com/rss">
<link rel="stylesheet" media="screen" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/style.css">
<link rel="shortcut icon" href="http://netframework.tistory.com/favicon.ico">
<title>Programming is Fun :: Spring 4.x에서의 WebSocket, SockJS, STOMP</title>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shCore.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushBash.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushCpp.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushCSharp.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushCss.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushDelphi.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushDiff.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushGroovy.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushJava.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushJScript.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushPhp.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushPlain.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushPython.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushRuby.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushScala.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushSql.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushVb.js.다운로드"></script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shBrushXml.js.다운로드"></script>
<link type="text/css" rel="stylesheet" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shCore.css">
<link type="text/css" rel="stylesheet" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/shThemeDefault.css">
<script type="text/javascript">
	SyntaxHighlighter.config.clipboardSwf = 'https://tistory1.daumcdn.net/tistory/328486/skin/images/clipboard.swf';
	SyntaxHighlighter.all();
</script>
<script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/showdown.min.js.다운로드"></script> 
<script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tistory-markdown-plugin.js.다운로드"></script>

		<link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/captcha.css">
		<script type="text/javascript">
			var needCommentCaptcha = true;
			var commentCaptchaType = 'bottom';
		</script><link rel="stylesheet" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/lightbox.min.css">
<link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/style(1).css">
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/profile.js.다운로드"></script>
<script type="text/javascript">
        window.TistoryBlog = {
            url: "http://netframework.tistory.com",
            tistoryUrl: "http://netframework.tistory.com"
        };
        var servicePath = "";
        var blogURL = "";
    </script>

	<script> (function() { window.orgjQuery = window.jQuery; window.jQuery = tjQuery })()</script>
    <script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/uoclike.min.js.다운로드"></script>
	<script> (function() { window.jQuery = window.orgjQuery; delete window.orgjQuery })()</script>
    <script>
		(function($) {
			$.fn.extend({
				size: function () {
					return this.length
				}
			});
			$.fn.UOCLike.defaults.updateServiceCategory = true;
					})(tjQuery)
    </script>
        <script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/base.js.다운로드"></script>
        <link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/dialog.css">
            <link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/postBtn.css">
    <script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/kakao.min.js.다운로드"></script><script type="text/javascript" async="" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/td.min.js.다운로드"></script><link rel="stylesheet" type="text/css" href="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/uoclike.min-20150408-2.css"></head>
<body>

<div class="db-left" style="margin:0; position:absolute; left:0; top:0;" align="left">
<a href="http://www.knowhow.or.kr/" target="_blank"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/yellowribbonleft.png" alt="잊지 않겠습니다." border="0"></a>
</div> 
<script type="text/javascript">
	(function() {
		if (!window.T) {
			window.T = {}
		}
		window.T.config = {"TOP_SSL_URL":"https:\/\/www.tistory.com","PREVIEW":false,"ROLE":"guest","PREV_PAGE":"\/entry\/Spring-Transactional\uc5d0-\ub300\ud558\uc5ec","NEXT_PAGE":"\/entry\/REST-API-\uad6c\uc131\uc2dc-Spring-Security-\uad6c\ud604","BLOG":{"isDormancy":false,"title":"Programming is Fun"},"NEED_COMMENT_LOGIN":false,"COMMENT_LOGIN_CONFIRM_MESSAGE":"","LOGIN_URL":"https:\/\/www.tistory.com\/auth\/login\/?redirectUrl=http%3A%2F%2Fnetframework.tistory.com%2Fentry%2FSpring-4x%25EC%2597%2590%25EC%2584%259C%25EC%259D%2598-WebSocket-SockJS-STOMP","DEFAULT_URL":"http:\/\/netframework.tistory.com","USER":{"name":null,"homepage":null}};
	})();
</script>

<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/common.js.다운로드"></script>
<div style="margin:0; padding:0; border:none; background:none; float:none; clear:none; z-index:0"></div>
	<div id="wrapTop">
		<div class="tCenter"></div><div class="tRight"></div>
	</div>
	<div id="wrapMid">
		<div class="mRight">
			<div id="container">
				<div id="header">
					<div class="blogTitle">
						<h1><a href="http://netframework.tistory.com/">Programming is Fun</a></h1>
					</div>
					<div class="blogMenu">
						<div class="wrapBlogMenu">
							<ul>
								<li class="tab_bloghome"><a href="http://netframework.tistory.com/">블로그홈</a></li>
								<li class="tab_localog"><a href="http://netframework.tistory.com/location">지역로그</a></li>
								<li class="tab_taglog"><a href="http://netframework.tistory.com/tag">태그로그</a></li>
								<li class="tab_media"><a href="http://netframework.tistory.com/media">미디어로그</a></li>
								<li class="tab_guestbook"><a href="http://netframework.tistory.com/guestbook">방명록</a></li>
							</ul>
						</div>
					</div>
				</div>
				<!-- header close -->
				<hr>
		    <div id="wrapContent">
					<div id="content">
						
			
						
			
						
			
						
			
						
			
						
						
						
			
						
							<div class="entry">
								<div class="titleWrap">
									<h2><a href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP">Spring 4.x에서의 WebSocket, SockJS, STOMP</a></h2>
										<span class="category"><a href="http://netframework.tistory.com/category/Java">Java</a> </span>
										<span class="date">2014.07.25 22:35</span>
								</div><!-- titleWrap close -->
								
								<div class="article">
									<div class="tt_article_useless_p_margin"><h1 id="websocket-sockjs-stomp" data-origin="&lt;h1 id=&quot;websocket-sockjs-stomp&quot;&gt;&lt;a name=&quot;websocket-sockjs-stomp&quot; href=&quot;#websocket-sockjs-stomp&quot;&gt;&lt;/a&gt;WebSocket, SockJS, STOMP&lt;/h1&gt;" style="clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><span style="font-size: 1.8em; line-height: 1.7em; background-color: transparent;">WebSocket</span></h1><p data-origin="&lt;p&gt;Spring 4.0에서부터 지원하는 기능중 가장 눈여겨봐야지 될 내용은 WebSocket입니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">Spring 4.0에서부터 지원하는 기능중 가장 눈여겨봐야지 될 내용은 WebSocket입니다.</p><p data-origin="&lt;p&gt;WebSocket은 RFC6455에서 정의한 기능으로 다음과 같은 특징을 가지고 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket은 RFC6455에서 정의한 기능으로 다음과 같은 특징을 가지고 있습니다.</p><ul data-origin="&lt;ul&gt;
&lt;li&gt;Real-time &lt;strong&gt;full duplex&lt;/strong&gt; communication over &lt;strong&gt;TCP&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Uses port 80 / 443&lt;/li&gt;
&lt;li&gt;URL scheme : ws, wss (SSL)&lt;/li&gt;
&lt;li&gt;Small overhead for text message (frame base) - 0x00 ~ 0xFF&lt;/li&gt;
&lt;li&gt;Ping/Pong frames for staying alive&lt;/li&gt;
&lt;/ul&gt;" style="color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><li style="line-height: 1.4em;">Real-time&nbsp;<strong>full duplex</strong>&nbsp;communication over&nbsp;<strong>TCP</strong></li><li style="line-height: 1.4em;">Uses port 80 / 443</li><li style="line-height: 1.4em;">URL scheme : ws, wss (SSL)</li><li style="line-height: 1.4em;">Small overhead for text message (frame base) - 0x00 ~ 0xFF</li><li style="line-height: 1.4em;">Ping/Pong frames for staying alive</li></ul><p data-origin="&lt;p&gt;WebSocket을 이용해서 접근하게 되면 다음과 같은 Request와 Server Response가 나타납니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket을 이용해서 접근하게 되면 다음과 같은 Request와 Server Response가 나타납니다.</p><ul data-origin="&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Request&lt;/p&gt;
&lt;pre&gt;&lt;code data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;GET /echo HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Sec-WebSocket-Version: 13
Origin: http://localhost:9000
Sec-WebSocket-Key: HfYHmSeeKJWzbQv/K5yBVQ==
Cookie: _ga=GA1.1.18456469.1406047636
Connection: keep-alive, Upgrade
Upgrade: websocket
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;GET /echo HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Sec-WebSocket-Version: 13
Origin: http://localhost:9000
Sec-WebSocket-Key: HfYHmSeeKJWzbQv/K5yBVQ==
Cookie: _ga=GA1.1.18456469.1406047636
Connection: keep-alive, Upgrade
Upgrade: websocket
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Response&lt;/p&gt;
&lt;pre&gt;&lt;code data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;HTTP/1.1 101 Switching Protocols
Server: Apache-Coyote/1.1
Upgrade: websocket
Connection: upgrade
Sec-WebSocket-Accept: i2iJBvVoYvXsVlrnYki5BNeKjew=
Date: Wed, 23 Jul 2014 17:56:03 GMT
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;HTTP/1.1 101 Switching Protocols
Server: Apache-Coyote/1.1
Upgrade: websocket
Connection: upgrade
Sec-WebSocket-Accept: i2iJBvVoYvXsVlrnYki5BNeKjew=
Date: Wed, 23 Jul 2014 17:56:03 GMT
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;" style="color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><li style="line-height: 1.4em;"><p style="margin: 1em 0px; word-wrap: break-word;">Request</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code data-origin="&lt;pre&gt;&lt;code&gt;GET /echo HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Sec-WebSocket-Version: 13
Origin: http://localhost:9000
Sec-WebSocket-Key: HfYHmSeeKJWzbQv/K5yBVQ==
Cookie: _ga=GA1.1.18456469.1406047636
Connection: keep-alive, Upgrade
Upgrade: websocket
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0.5em; margin: 0px; display: block; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold;">GET /echo HTTP/1.1
Host: localhost:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Sec-WebSocket-Version: 13
Origin: http://localhost:9000
Sec-WebSocket-Key: HfYHmSeeKJWzbQv/K5yBVQ==
Cookie: _ga=GA1.1.18456469.1406047636
Connection: keep-alive, Upgrade
Upgrade: websocket
</code></pre></li><li style="line-height: 1.4em;"><p style="margin: 1em 0px; word-wrap: break-word;">Response</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code data-origin="&lt;pre&gt;&lt;code&gt;HTTP/1.1 101 Switching Protocols
Server: Apache-Coyote/1.1
Upgrade: websocket
Connection: upgrade
Sec-WebSocket-Accept: i2iJBvVoYvXsVlrnYki5BNeKjew=
Date: Wed, 23 Jul 2014 17:56:03 GMT
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0.5em; margin: 0px; display: block; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold;">HTTP/1.1 101 Switching Protocols
Server: Apache-Coyote/1.1
Upgrade: websocket
Connection: upgrade
Sec-WebSocket-Accept: i2iJBvVoYvXsVlrnYki5BNeKjew=
Date: Wed, 23 Jul 2014 17:56:03 GMT
</code></pre></li></ul><p data-origin="&lt;p&gt;WebSocket의 javascript client code는 다음과 같이 구성될 수 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket의 javascript client code는 다음과 같이 구성될 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;  $scope.ws = new WebSocket(&#39;ws://localhost:8080/echo&#39;);
  $scope.ws.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.ws.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
  };
  $scope.ws.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;  $scope.ws = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; WebSocket(&lt;span class=&quot;hljs-string&quot;&gt;&#39;ws://localhost:8080/echo&#39;&lt;/span&gt;);
  $scope.ws.onopen = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket opened&#39;&lt;/span&gt;);
  };
  $scope.ws.onmessage = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(message);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;receive message : &#39;&lt;/span&gt; + message.data);
  };
  $scope.ws.onclose = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(event)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(event);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket closed&#39;&lt;/span&gt;);
  };
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;  $scope.ws = new WebSocket(&#39;ws://localhost:8080/echo&#39;);
  $scope.ws.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.ws.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
  };
  $scope.ws.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">  $scope.ws = <span class="hljs-keyword">new</span> WebSocket(<span class="hljs-string" style="color: rgb(221, 17, 68);">'ws://localhost:8080/echo'</span>);
  $scope.ws.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket opened'</span>);
  };
  $scope.ws.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(message);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'receive message : '</span> + message.data);
  };
  $scope.ws.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(event);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket closed'</span>);
  };
</code></pre><p data-origin="&lt;p&gt;이제 Spring 4.0에서 지원하는 WebSocket을 구성해보도록 하겠습니다. WebSocket을 지원하는 서버를 개발하기 위해서는 다음과 같은 절차로서 구성되어야지 됩니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">이제 Spring 4.0에서 지원하는 WebSocket을 구성해보도록 하겠습니다. WebSocket을 지원하는 서버를 개발하기 위해서는 다음과 같은 절차로서 구성되어야지 됩니다.</p><p data-origin="&lt;p&gt;1) MessageHandler의 구성&lt;br /&gt;2) Spring Configuratio에 ConnectionEndPoint 설정&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">1) MessageHandler의 구성<br style="clear: both;">2) Spring Configuratio에 ConnectionEndPoint 설정</p><p data-origin="&lt;p&gt;이제 한 단계식 구성을 따라가보도록 하겠습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">이제 한 단계식 구성을 따라가보도록 하겠습니다.</p><h4 id="messagehandler-" data-origin="&lt;h4 id=&quot;messagehandler-&quot;&gt;&lt;a name=&quot;messagehandler-&quot; href=&quot;#messagehandler-&quot;&gt;&lt;/a&gt;MessageHandler의 구성&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="messagehandler-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#messagehandler-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>MessageHandler의 구성</h4><p data-origin="&lt;p&gt;Client에서 전송되는 message를 처리하는 MessageHandler입니다. MessageHandler는 크게 2가지로 나눌 수 있습니다. TextWebSocketHandler와 BinaryWebSocketHandler가 그것입니다. 이 두가지는 이름으로 알 수 있듯이, Text Message/Binary Message를 각각 처리하는데 사용됩니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">Client에서 전송되는 message를 처리하는 MessageHandler입니다. MessageHandler는 크게 2가지로 나눌 수 있습니다. TextWebSocketHandler와 BinaryWebSocketHandler가 그것입니다. 이 두가지는 이름으로 알 수 있듯이, Text Message/Binary Message를 각각 처리하는데 사용됩니다.</p><p data-origin="&lt;p&gt;먼저, Input Text Message에 &lt;strong&gt;ECHO:&lt;/strong&gt;를 붙여주는 매우 단순한 TextMessageHandler를 구성해보도록 하겠습니다. TextMessgeHandler의 경우 매우 중요합니다. json data의 경우에도 역시 TextMessageHandler를 통해서 처리가 되는 것이 일반적이기 때문에 큰 Binary를 처리하거나, 아니면 암호화가 된 특정 이진데이터를 처리하는 것이 아니라면 대부분의 WebSocket 서버에서 사용될 내용은 TextMessageHandler를 기반으로 구성이 가능합니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">먼저, Input Text Message에&nbsp;<strong>ECHO:</strong>를 붙여주는 매우 단순한 TextMessageHandler를 구성해보도록 하겠습니다. TextMessgeHandler의 경우 매우 중요합니다. json data의 경우에도 역시 TextMessageHandler를 통해서 처리가 되는 것이 일반적이기 때문에 큰 Binary를 처리하거나, 아니면 암호화가 된 특정 이진데이터를 처리하는 것이 아니라면 대부분의 WebSocket 서버에서 사용될 내용은 TextMessageHandler를 기반으로 구성이 가능합니다.</p><p data-origin="&lt;p&gt;단순한 EchoTextMessageHandler는 다음과 같이 구성될 수 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">단순한 EchoTextMessageHandler는 다음과 같이 구성될 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;@Component
public class EchoHandler extends TextWebSocketHandler {
    @Override
    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {
        TextMessage echoMessage = new TextMessage(&amp;quot;ECHO :&amp;quot; + message.getPayload());
        session.sendMessage(echoMessage);
    }
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-annotation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;EchoHandler&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;TextWebSocketHandler&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;handleTextMessage&lt;/span&gt;(WebSocketSession session, TextMessage message) &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        TextMessage echoMessage = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; TextMessage(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ECHO :&quot;&lt;/span&gt; + message.getPayload());
        session.sendMessage(echoMessage);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Component
public class EchoHandler extends TextWebSocketHandler {
    @Override
    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {
        TextMessage echoMessage = new TextMessage(&quot;ECHO :&quot; + message.getPayload());
        session.sendMessage(echoMessage);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-annotation">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">EchoHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">TextWebSocketHandler</span> </span>{
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">handleTextMessage</span>(WebSocketSession session, TextMessage message) <span class="hljs-keyword">throws</span> Exception {
        TextMessage echoMessage = <span class="hljs-keyword">new</span> TextMessage(<span class="hljs-string" style="color: rgb(221, 17, 68);">"ECHO :"</span> + message.getPayload());
        session.sendMessage(echoMessage);
    }
}
</code></pre><h4 id="connectionendpoint-" data-origin="&lt;h4 id=&quot;connectionendpoint-&quot;&gt;&lt;a name=&quot;connectionendpoint-&quot; href=&quot;#connectionendpoint-&quot;&gt;&lt;/a&gt;ConnectionEndPoint의 구성&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="connectionendpoint-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#connectionendpoint-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>ConnectionEndPoint의 구성</h4><p data-origin="&lt;p&gt;WebSocket을 이용한 client code를 보시면 쉽게 아실 수 있는 것이, connection의 endpoint가 존재합니다. 이 endpoint를 통해서 데이터를 보내고, 받는 작업을 할 수 있습니다. 이런 endpoint를 지정하는 작업은 다음과 같이 진행할 수 있습니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket을 이용한 client code를 보시면 쉽게 아실 수 있는 것이, connection의 endpoint가 존재합니다. 이 endpoint를 통해서 데이터를 보내고, 받는 작업을 할 수 있습니다. 이런 endpoint를 지정하는 작업은 다음과 같이 진행할 수 있습니다.</p><p data-origin="&lt;p&gt;ConnectionEndPoint를 구성하기 위해서 Spring은 @EnableWebSocket annotation과 WebSocketConfigurer interface를 제공하고 있습니다. 여기서 중요한 것은 WebSocketConfigurer interface입니다. interface는 다음과 같이 구성됩니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">ConnectionEndPoint를 구성하기 위해서 Spring은 @EnableWebSocket annotation과 WebSocketConfigurer interface를 제공하고 있습니다. 여기서 중요한 것은 WebSocketConfigurer interface입니다. interface는 다음과 같이 구성됩니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;public interface WebSocketConfigurer {
    void registerWebSocketHandlers(WebSocketHandlerRegistry registry);
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;WebSocketConfigurer&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; registerWebSocketHandlers(WebSocketHandlerRegistry registry);
}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;public interface WebSocketConfigurer {
    void registerWebSocketHandlers(WebSocketHandlerRegistry registry);
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">WebSocketConfigurer</span> </span>{
    <span class="hljs-keyword">void</span> registerWebSocketHandlers(WebSocketHandlerRegistry registry);
}
</code></pre><p data-origin="&lt;p&gt;&lt;code&gt;registerWebSocketHandlers&lt;/code&gt; 라는 method 하나만이 존재하고, 이 method안에 connection endpoint를 다음과 같이 구성할 수 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(239, 223, 208); padding: 0px 5px; margin: 0px 2px; color: rgb(0, 0, 0); background-color: rgb(254, 236, 221);">registerWebSocketHandlers</code>&nbsp;라는 method 하나만이 존재하고, 이 method안에 connection endpoint를 다음과 같이 구성할 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &amp;quot;/echo&amp;quot;);
    }
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;registerWebSocketHandlers&lt;/span&gt;(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/echo&quot;&lt;/span&gt;);
    }
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &quot;/echo&quot;);
    }
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">registerWebSocketHandlers</span>(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, <span class="hljs-string" style="color: rgb(221, 17, 68);">"/echo"</span>);
    }
</code></pre><p data-origin="&lt;p&gt;/echo를 connection endpoint로 만들어주고, 연결된 connection에 대한 Handler를 지정해줍니다. DI를 위해 방금 만든 EchoHandler를 Bean으로 등록하고, 등록된 Bean을 이용하는 전체 @Configuration code는 다음과 같습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">/echo를 connection endpoint로 만들어주고, 연결된 connection에 대한 Handler를 지정해줍니다. DI를 위해 방금 만든 EchoHandler를 Bean으로 등록하고, 등록된 Bean을 이용하는 전체 @Configuration code는 다음과 같습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;@Configuration
@EnableWebSocket
@EnableWebMvc
@ComponentScan(basePackages = {
        &amp;quot;me.xyzlast.controllers&amp;quot;,
        &amp;quot;me.xyzlast.handlers&amp;quot;
})
public class ControllerConfiguration extends WebMvcConfigurerAdapter implements WebSocketConfigurer {
    @Autowired
    private EchoHandler echoHandler;

    @Override
    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &amp;quot;/echo&amp;quot;);
    }
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-annotation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;hljs-annotation&quot;&gt;@EnableWebSocket&lt;/span&gt;
&lt;span class=&quot;hljs-annotation&quot;&gt;@EnableWebMvc&lt;/span&gt;
&lt;span class=&quot;hljs-annotation&quot;&gt;@ComponentScan&lt;/span&gt;(basePackages = {
        &lt;span class=&quot;hljs-string&quot;&gt;&quot;me.xyzlast.controllers&quot;&lt;/span&gt;,
        &lt;span class=&quot;hljs-string&quot;&gt;&quot;me.xyzlast.handlers&quot;&lt;/span&gt;
})
&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ControllerConfiguration&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;WebMvcConfigurerAdapter&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;WebSocketConfigurer&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-annotation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; EchoHandler echoHandler;

    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;registerWebSocketHandlers&lt;/span&gt;(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/echo&quot;&lt;/span&gt;);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Configuration
@EnableWebSocket
@EnableWebMvc
@ComponentScan(basePackages = {
        &quot;me.xyzlast.controllers&quot;,
        &quot;me.xyzlast.handlers&quot;
})
public class ControllerConfiguration extends WebMvcConfigurerAdapter implements WebSocketConfigurer {
    @Autowired
    private EchoHandler echoHandler;

    @Override
    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &quot;/echo&quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-annotation">@Configuration</span>
<span class="hljs-annotation">@EnableWebSocket</span>
<span class="hljs-annotation">@EnableWebMvc</span>
<span class="hljs-annotation">@ComponentScan</span>(basePackages = {
        <span class="hljs-string" style="color: rgb(221, 17, 68);">"me.xyzlast.controllers"</span>,
        <span class="hljs-string" style="color: rgb(221, 17, 68);">"me.xyzlast.handlers"</span>
})
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">ControllerConfiguration</span> <span class="hljs-keyword">extends</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">WebMvcConfigurerAdapter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">WebSocketConfigurer</span> </span>{
    <span class="hljs-annotation">@Autowired</span>
    <span class="hljs-keyword">private</span> EchoHandler echoHandler;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">registerWebSocketHandlers</span>(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, <span class="hljs-string" style="color: rgb(221, 17, 68);">"/echo"</span>);
    }
}
</code></pre><p data-origin="&lt;p&gt;위 설정은 WebSocket 서버와 WebMVC를 모두 다 지원하기 위해서 구성한 결과입니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">위 설정은 WebSocket 서버와 WebMVC를 모두 다 지원하기 위해서 구성한 결과입니다.</p><p data-origin="&lt;p&gt;이제 WebSocket을 이용한 Echo Server 구성이 모두 마쳐졌습니다. tomcat 7.x 이상이 필요하며, angularJS를 이용한 client page는 다음과 같이 구성할 수 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">이제 WebSocket을 이용한 Echo Server 구성이 모두 마쳐졌습니다. tomcat 7.x 이상이 필요하며, angularJS를 이용한 client page는 다음과 같이 구성할 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;angular.module(&#39;websocketClientApp&#39;).controller(&#39;WsCtrl&#39;, function ($scope, $timeout) {
//STARTOFCONTROLLER
$scope.message = &#39;&#39;;
$scope.ws;
$scope.echoMessages = [];

$scope.init = function() {
  $scope.ws = new WebSocket(&#39;ws://localhost:8080/echo&#39;);
  $scope.ws.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.ws.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
    $scope.echoMessages.unshift(message.data);
    $timeout(function() {
      $scope.$apply(&#39;echoMessages&#39;);
    })
  };
  $scope.ws.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
};

$scope.send = function() {
  $scope.ws.send($scope.message);
};

$scope.init();
//ENDOFCONTROLLER
});
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;angular.module(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocketClientApp&#39;&lt;/span&gt;).controller(&lt;span class=&quot;hljs-string&quot;&gt;&#39;WsCtrl&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;($scope, $timeout)&lt;/span&gt; &lt;/span&gt;{
&lt;span class=&quot;hljs-comment&quot;&gt;//STARTOFCONTROLLER&lt;/span&gt;
$scope.message = &lt;span class=&quot;hljs-string&quot;&gt;&#39;&#39;&lt;/span&gt;;
$scope.ws;
$scope.echoMessages = [];

$scope.init = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  $scope.ws = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; WebSocket(&lt;span class=&quot;hljs-string&quot;&gt;&#39;ws://localhost:8080/echo&#39;&lt;/span&gt;);
  $scope.ws.onopen = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket opened&#39;&lt;/span&gt;);
  };
  $scope.ws.onmessage = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(message);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;receive message : &#39;&lt;/span&gt; + message.data);
    $scope.echoMessages.unshift(message.data);
    $timeout(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
      $scope.$apply(&lt;span class=&quot;hljs-string&quot;&gt;&#39;echoMessages&#39;&lt;/span&gt;);
    })
  };
  $scope.ws.onclose = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(event)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(event);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket closed&#39;&lt;/span&gt;);
  };
};

$scope.send = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  $scope.ws.send($scope.message);
};

$scope.init();
&lt;span class=&quot;hljs-comment&quot;&gt;//ENDOFCONTROLLER&lt;/span&gt;
});
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;angular.module(&#39;websocketClientApp&#39;).controller(&#39;WsCtrl&#39;, function ($scope, $timeout) {
//STARTOFCONTROLLER
$scope.message = &#39;&#39;;
$scope.ws;
$scope.echoMessages = [];

$scope.init = function() {
  $scope.ws = new WebSocket(&#39;ws://localhost:8080/echo&#39;);
  $scope.ws.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.ws.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
    $scope.echoMessages.unshift(message.data);
    $timeout(function() {
      $scope.$apply(&#39;echoMessages&#39;);
    })
  };
  $scope.ws.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
};

$scope.send = function() {
  $scope.ws.send($scope.message);
};

$scope.init();
//ENDOFCONTROLLER
});
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">angular.module(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocketClientApp'</span>).controller(<span class="hljs-string" style="color: rgb(221, 17, 68);">'WsCtrl'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($scope, $timeout)</span> </span>{
<span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//STARTOFCONTROLLER</span>
$scope.message = <span class="hljs-string" style="color: rgb(221, 17, 68);">''</span>;
$scope.ws;
$scope.echoMessages = [];

$scope.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  $scope.ws = <span class="hljs-keyword">new</span> WebSocket(<span class="hljs-string" style="color: rgb(221, 17, 68);">'ws://localhost:8080/echo'</span>);
  $scope.ws.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket opened'</span>);
  };
  $scope.ws.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(message);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'receive message : '</span> + message.data);
    $scope.echoMessages.unshift(message.data);
    $timeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
      $scope.$apply(<span class="hljs-string" style="color: rgb(221, 17, 68);">'echoMessages'</span>);
    })
  };
  $scope.ws.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(event);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket closed'</span>);
  };
};

$scope.send = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  $scope.ws.send($scope.message);
};

$scope.init();
<span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//ENDOFCONTROLLER</span>
});
</code></pre><pre data-origin="&lt;pre&gt;&lt;code class=&quot;html hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;html&amp;quot;&amp;gt;&amp;amp;lt;h3&amp;amp;gt;WebSocket Test Page&amp;amp;lt;/h3&amp;amp;gt;

&amp;amp;lt;input type=&amp;quot;text&amp;quot; ng-model=&amp;quot;message&amp;quot;/&amp;amp;gt;
&amp;amp;lt;button ng-click=&amp;quot;send()&amp;quot;&amp;amp;gt;SEND&amp;amp;lt;/button&amp;amp;gt;

&amp;amp;lt;ul ng-repeat=&amp;quot;echo in echoMessages&amp;quot;&amp;amp;gt;
  &amp;amp;lt;li&amp;amp;gt;{{echo}}&amp;amp;lt;/li&amp;amp;gt;
&amp;amp;lt;/ul&amp;amp;gt;
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;WebSocket Test Page&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;ng-model&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;message&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;ng-click&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;send()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;SEND&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;ng-repeat&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;echo in echoMessages&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;{{echo}}&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="html hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;h3&amp;gt;WebSocket Test Page&amp;lt;/h3&amp;gt;

&amp;lt;input type=&quot;text&quot; ng-model=&quot;message&quot;/&amp;gt;
&amp;lt;button ng-click=&quot;send()&quot;&amp;gt;SEND&amp;lt;/button&amp;gt;

&amp;lt;ul ng-repeat=&quot;echo in echoMessages&quot;&amp;gt;
  &amp;lt;li&amp;gt;{{echo}}&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">h3</span>&gt;</span>WebSocket Test Page<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">h3</span>&gt;</span>

<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">type</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"text"</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">ng-model</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"message"</span>/&gt;</span>
<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">ng-click</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"send()"</span>&gt;</span>SEND<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">button</span>&gt;</span>

<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">ul</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">ng-repeat</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"echo in echoMessages"</span>&gt;</span>
  <span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">li</span>&gt;</span>{{echo}}<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">li</span>&gt;</span>
<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">ul</span>&gt;</span>
</code></pre><p data-origin="&lt;p&gt;결과는 다음과 같습니다.&lt;br /&gt;&lt;img src=&quot;app://root/img/blank.gif&quot; alt=&quot;&quot; data-echo=&quot;http://i62.tinypic.com/kcc8jn.png&quot;&gt;&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">결과는 다음과 같습니다.<br style="clear: both;"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/kcc8jn.png" alt="" style="max-width: 100%;"></p><h2 id="socketjs" data-origin="&lt;h2 id=&quot;socketjs&quot;&gt;&lt;a name=&quot;socketjs&quot; href=&quot;#socketjs&quot;&gt;&lt;/a&gt;SocketJS&lt;/h2&gt;" style="clear: both; font-size: 1.8em; margin: 1.275em 0px 0.85em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(230, 230, 230); line-height: 1.7em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif;"><a name="socketjs" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#socketjs" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>SocketJS</h2><p data-origin="&lt;p&gt;WebSocket은 지금까지 사용되고 있던 Ajax에 비하여 매우 훌륭한 방법입니다. 그렇지만, WebSocket이 Spring 4.0에서나 지원이 된 이유는 약간 발전이 너무나도 느렸습니다. WebSocket을 지원하는 Browser의 종류는 다음과 같습니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket은 지금까지 사용되고 있던 Ajax에 비하여 매우 훌륭한 방법입니다. 그렇지만, WebSocket이 Spring 4.0에서나 지원이 된 이유는 약간 발전이 너무나도 느렸습니다. WebSocket을 지원하는 Browser의 종류는 다음과 같습니다.</p><p data-origin="&lt;p&gt;&lt;img src=&quot;app://root/img/blank.gif&quot; alt=&quot;&quot; data-echo=&quot;http://helloworld.naver.com/files/attach/images/61/336/001/122111_0950_WebSocketSo2.png&quot;&gt;&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/122111_0950_WebSocketSo2.png" alt="" style="max-width: 100%;"></p><p data-origin="&lt;p&gt;WebSocket의 경우, IE 10이상에서 지원하고 있기 때문에, 현실상 지원하기 힘듭니다. 이 문제를 해결하기 위해서, socket.io와 같은 websocket을 지원하지 않는 browser에서 websocket과 같이 접근하기 위한 방법들이 계속해서 나왔는데, SockJS도 그 방법들중 하나입니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">WebSocket의 경우, IE 10이상에서 지원하고 있기 때문에, 현실상 지원하기 힘듭니다. 이 문제를 해결하기 위해서, socket.io와 같은 websocket을 지원하지 않는 browser에서 websocket과 같이 접근하기 위한 방법들이 계속해서 나왔는데, SockJS도 그 방법들중 하나입니다.</p><p data-origin="&lt;p&gt;SockJS는 기본적으로 WebSocket을 이용하고 있고, interface가 동일합니다. 다만 WebSockeet과는 다음과 같은 차이점을 가지고 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">SockJS는 기본적으로 WebSocket을 이용하고 있고, interface가 동일합니다. 다만 WebSockeet과는 다음과 같은 차이점을 가지고 있습니다.</p><ol data-origin="&lt;ol&gt;
&lt;li&gt;schema가 ws가 아닌 http&lt;/li&gt;
&lt;li&gt;WebSocket과 같이 Browser에서 제공되는 library가 아닌, 외부 library 사용&lt;/li&gt;
&lt;li&gt;IE 6이상부터 지원합니다. &lt;/li&gt;
&lt;li&gt;Server 측에서도 websocket이 아닌 SockJS server side library를 사용&lt;/li&gt;
&lt;/ol&gt;" style="color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><li style="line-height: 1.4em;">schema가 ws가 아닌 http</li><li style="line-height: 1.4em;">WebSocket과 같이 Browser에서 제공되는 library가 아닌, 외부 library 사용</li><li style="line-height: 1.4em;">IE 6이상부터 지원합니다.</li><li style="line-height: 1.4em;">Server 측에서도 websocket이 아닌 SockJS server side library를 사용</li></ol><p data-origin="&lt;p&gt;websocket과 sockjs의 client code는 다음과 같습니다. 비교해보시면 schema만을 제외하면 완전히 동일한 것을 알 수 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">websocket과 sockjs의 client code는 다음과 같습니다. 비교해보시면 schema만을 제외하면 완전히 동일한 것을 알 수 있습니다.</p><blockquote data-origin="&lt;blockquote&gt;
&lt;p&gt;WebSocket&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;var ws = new WebSocket(&#39;ws://domain/endpoint&#39;);
ws.onopen = function() {
  console.log(&#39;open socket&#39;);
}
ws.onmessage = function(message) {
  console.log(&#39;message&#39;, message.data);
}
ws.onclose = function(e) {
  console.log(&#39;close&#39;);
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ws = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; WebSocket(&lt;span class=&quot;hljs-string&quot;&gt;&#39;ws://domain/endpoint&#39;&lt;/span&gt;);
ws.onopen = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;open socket&#39;&lt;/span&gt;);
}
ws.onmessage = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;message&#39;&lt;/span&gt;, message.data);
}
ws.onclose = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(e)&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;close&#39;&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SockJS&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;var sock = new SockJS(&#39;http://domain/endpoint&#39;);
sock.onopen = function() {
  console.log(&#39;open socket&#39;);
}
sock.onmessage = function(message) {
  console.log(&#39;message&#39;, message.data);
}
sock.onclose = function(e) {
  console.log(&#39;close&#39;);
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; sock = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SockJS(&lt;span class=&quot;hljs-string&quot;&gt;&#39;http://domain/endpoint&#39;&lt;/span&gt;);
sock.onopen = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;open socket&#39;&lt;/span&gt;);
}
sock.onmessage = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;message&#39;&lt;/span&gt;, message.data);
}
sock.onclose = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(e)&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;close&#39;&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;" style="margin: 1em 20px; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(230, 230, 230); padding: 0px 15px; color: rgb(119, 119, 119); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;"><p style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word;">WebSocket</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;var ws = new WebSocket(&#39;ws://domain/endpoint&#39;);
ws.onopen = function() {
  console.log(&#39;open socket&#39;);
}
ws.onmessage = function(message) {
  console.log(&#39;message&#39;, message.data);
}
ws.onclose = function(e) {
  console.log(&#39;close&#39;);
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-keyword">var</span> ws = <span class="hljs-keyword">new</span> WebSocket(<span class="hljs-string" style="color: rgb(221, 17, 68);">'ws://domain/endpoint'</span>);
ws.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'open socket'</span>);
}
ws.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'message'</span>, message.data);
}
ws.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'close'</span>);
}
</code></pre><p style="margin: 1em 0px; word-wrap: break-word;">SockJS</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; margin-bottom: 0px;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;var sock = new SockJS(&#39;http://domain/endpoint&#39;);
sock.onopen = function() {
  console.log(&#39;open socket&#39;);
}
sock.onmessage = function(message) {
  console.log(&#39;message&#39;, message.data);
}
sock.onclose = function(e) {
  console.log(&#39;close&#39;);
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-keyword">var</span> sock = <span class="hljs-keyword">new</span> SockJS(<span class="hljs-string" style="color: rgb(221, 17, 68);">'http://domain/endpoint'</span>);
sock.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'open socket'</span>);
}
sock.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'message'</span>, message.data);
}
sock.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
  <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'close'</span>);
}
</code></pre></blockquote><p data-origin="&lt;p&gt;Spring 4.0은 SockJS 서버를 지원하고 있으며, 지원 방법은 WebSocket 서버와 거의 유사합니다. 아니 동일한 수준입니다.&lt;br /&gt;SockJS 서버의 구축 방법은 WebSocket 서버의 구축 방법과 동일합니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">Spring 4.0은 SockJS 서버를 지원하고 있으며, 지원 방법은 WebSocket 서버와 거의 유사합니다. 아니 동일한 수준입니다.<br style="clear: both;">SockJS 서버의 구축 방법은 WebSocket 서버의 구축 방법과 동일합니다.</p><p data-origin="&lt;p&gt;1) MessageHandler의 구성&lt;br /&gt;2) Spring Configuratio에 ConnectionEndPoint 설정&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">1) MessageHandler의 구성<br style="clear: both;">2) Spring Configuratio에 ConnectionEndPoint 설정</p><h4 id="messagehandler-" data-origin="&lt;h4 id=&quot;messagehandler-&quot;&gt;&lt;a name=&quot;messagehandler-&quot; href=&quot;#messagehandler-&quot;&gt;&lt;/a&gt;MessageHandler의 구성&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="messagehandler-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#messagehandler-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>MessageHandler의 구성</h4><p data-origin="&lt;p&gt;MessageHandler는 WebSocket과 완전히 동일합니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">MessageHandler는 WebSocket과 완전히 동일합니다.</p><h4 id="connection-endpoint-" data-origin="&lt;h4 id=&quot;connection-endpoint-&quot;&gt;&lt;a name=&quot;connection-endpoint-&quot; href=&quot;#connection-endpoint-&quot;&gt;&lt;/a&gt;Connection EndPoint의 구성&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="connection-endpoint-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#connection-endpoint-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>Connection EndPoint의 구성</h4><p data-origin="&lt;p&gt;Connection EndPoint의 경우에도 거의 유사합니다. 다음은 WebSocket의 endpoint와 SockJS의 endpoint 비교입니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">Connection EndPoint의 경우에도 거의 유사합니다. 다음은 WebSocket의 endpoint와 SockJS의 endpoint 비교입니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;    @Override
    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &amp;quot;/echo&amp;quot;);
        registry.addHandler(echoHandler, &amp;quot;/echojs&amp;quot;).withSockJS();
    }
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;registerWebSocketHandlers&lt;/span&gt;(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/echo&quot;&lt;/span&gt;);
        registry.addHandler(echoHandler, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/echojs&quot;&lt;/span&gt;).withSockJS();
    }
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;    @Override
    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, &quot;/echo&quot;);
        registry.addHandler(echoHandler, &quot;/echojs&quot;).withSockJS();
    }
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">registerWebSocketHandlers</span>(WebSocketHandlerRegistry registry) {
        registry.addHandler(echoHandler, <span class="hljs-string" style="color: rgb(221, 17, 68);">"/echo"</span>);
        registry.addHandler(echoHandler, <span class="hljs-string" style="color: rgb(221, 17, 68);">"/echojs"</span>).withSockJS();
    }
</code></pre><p data-origin="&lt;p&gt;주의할점은 SockJS와 WebSocket의 endpoint를 동일하게 넣어서는 안된다는 점입니다. 같은 port를 이용하고, schema만이 다르기 때문에 접근되는 endpoint가 동일한 경우, 오동작을 발생시키면서 connection이 종료됩니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">주의할점은 SockJS와 WebSocket의 endpoint를 동일하게 넣어서는 안된다는 점입니다. 같은 port를 이용하고, schema만이 다르기 때문에 접근되는 endpoint가 동일한 경우, 오동작을 발생시키면서 connection이 종료됩니다.</p><h3 id="sockjs-client-" data-origin="&lt;h3 id=&quot;sockjs-client-&quot;&gt;&lt;a name=&quot;sockjs-client-&quot; href=&quot;#sockjs-client-&quot;&gt;&lt;/a&gt;SockJS client의 구성&lt;/h3&gt;" style="clear: both; font-size: 1.6em; margin: 1.125em 0px 0.75em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="sockjs-client-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#sockjs-client-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>SockJS client의 구성</h3><p data-origin="&lt;p&gt;SockJS의 경우, bower에서 지원하고 있습니다. 다음 command를 통해서 bower로 install을 할 수 있습니다.&lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">SockJS의 경우, bower에서 지원하고 있습니다. 다음 command를 통해서 bower로 install을 할 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;cmd hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;cmd&amp;quot;&amp;gt;bower install sockjs --save
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;bower install sockjs --save
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="cmd hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;cmd&quot;&gt;bower install sockjs --save
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">bower install sockjs --save
</code></pre><p data-origin="&lt;p&gt;angularjs + yeoman을 통해서 구성한 sockjs client code는 다음과 같습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">angularjs + yeoman을 통해서 구성한 sockjs client code는 다음과 같습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;angular.module(&#39;websocketClientApp&#39;).controller(&#39;SockCtrl&#39;, function ($scope) {
//STARTOFCONTROLLER
$scope.message = &#39;&#39;;
$scope.sock;

$scope.init = function() {
  $scope.sock = new SockJS(&#39;http://localhost:8080/echojs&#39;);
  $scope.sock.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.sock.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
  };
  $scope.sock.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
};

$scope.send = function() {
  $scope.sock.send($scope.message);
};

$scope.init();
//ENDOFCONTROLLER
});
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;angular.module(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocketClientApp&#39;&lt;/span&gt;).controller(&lt;span class=&quot;hljs-string&quot;&gt;&#39;SockCtrl&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;($scope)&lt;/span&gt; &lt;/span&gt;{
&lt;span class=&quot;hljs-comment&quot;&gt;//STARTOFCONTROLLER&lt;/span&gt;
$scope.message = &lt;span class=&quot;hljs-string&quot;&gt;&#39;&#39;&lt;/span&gt;;
$scope.sock;

$scope.init = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  $scope.sock = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SockJS(&lt;span class=&quot;hljs-string&quot;&gt;&#39;http://localhost:8080/echojs&#39;&lt;/span&gt;);
  $scope.sock.onopen = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket opened&#39;&lt;/span&gt;);
  };
  $scope.sock.onmessage = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(message);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;receive message : &#39;&lt;/span&gt; + message.data);
  };
  $scope.sock.onclose = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(event)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(event);
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;websocket closed&#39;&lt;/span&gt;);
  };
};

$scope.send = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  $scope.sock.send($scope.message);
};

$scope.init();
&lt;span class=&quot;hljs-comment&quot;&gt;//ENDOFCONTROLLER&lt;/span&gt;
});
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;angular.module(&#39;websocketClientApp&#39;).controller(&#39;SockCtrl&#39;, function ($scope) {
//STARTOFCONTROLLER
$scope.message = &#39;&#39;;
$scope.sock;

$scope.init = function() {
  $scope.sock = new SockJS(&#39;http://localhost:8080/echojs&#39;);
  $scope.sock.onopen = function() {
    console.log(&#39;websocket opened&#39;);
  };
  $scope.sock.onmessage = function(message) {
    console.log(message);
    console.log(&#39;receive message : &#39; + message.data);
  };
  $scope.sock.onclose = function(event) {
    console.log(event);
    console.log(&#39;websocket closed&#39;);
  };
};

$scope.send = function() {
  $scope.sock.send($scope.message);
};

$scope.init();
//ENDOFCONTROLLER
});
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">angular.module(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocketClientApp'</span>).controller(<span class="hljs-string" style="color: rgb(221, 17, 68);">'SockCtrl'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($scope)</span> </span>{
<span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//STARTOFCONTROLLER</span>
$scope.message = <span class="hljs-string" style="color: rgb(221, 17, 68);">''</span>;
$scope.sock;

$scope.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  $scope.sock = <span class="hljs-keyword">new</span> SockJS(<span class="hljs-string" style="color: rgb(221, 17, 68);">'http://localhost:8080/echojs'</span>);
  $scope.sock.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket opened'</span>);
  };
  $scope.sock.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(message);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'receive message : '</span> + message.data);
  };
  $scope.sock.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(event);
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'websocket closed'</span>);
  };
};

$scope.send = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  $scope.sock.send($scope.message);
};

$scope.init();
<span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//ENDOFCONTROLLER</span>
});
</code></pre><pre data-origin="&lt;pre&gt;&lt;code class=&quot;html hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;html&amp;quot;&amp;gt;&amp;amp;lt;script src=&amp;quot;bower_components/sockjs/sockjs.js&amp;quot;&amp;amp;gt;&amp;amp;lt;/script&amp;amp;gt;

&amp;amp;lt;h3&amp;amp;gt;SockJS Test Page&amp;amp;lt;/h3&amp;amp;gt;

&amp;amp;lt;input type=&amp;quot;text&amp;quot; ng-model=&amp;quot;message&amp;quot;/&amp;amp;gt;
&amp;amp;lt;button ng-click=&amp;quot;send()&amp;quot;&amp;amp;gt;SEND&amp;amp;lt;/button&amp;amp;gt;
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;bower_components/sockjs/sockjs.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;SockJS Test Page&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;ng-model&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;message&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-title&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attribute&quot;&gt;ng-click&lt;/span&gt;=&lt;span class=&quot;hljs-value&quot;&gt;&quot;send()&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;SEND&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-title&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="html hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;html&quot;&gt;&amp;lt;script src=&quot;bower_components/sockjs/sockjs.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;h3&amp;gt;SockJS Test Page&amp;lt;/h3&amp;gt;

&amp;lt;input type=&quot;text&quot; ng-model=&quot;message&quot;/&amp;gt;
&amp;lt;button ng-click=&quot;send()&quot;&amp;gt;SEND&amp;lt;/button&amp;gt;
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">src</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"bower_components/sockjs/sockjs.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">script</span>&gt;</span>

<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">h3</span>&gt;</span>SockJS Test Page<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">h3</span>&gt;</span>

<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">type</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"text"</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">ng-model</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"message"</span>/&gt;</span>
<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute" style="color: rgb(0, 128, 128);">ng-click</span>=<span class="hljs-value" style="color: rgb(221, 17, 68);">"send()"</span>&gt;</span>SEND<span class="hljs-tag" style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/<span class="hljs-title">button</span>&gt;</span>
</code></pre><h2 id="stomp" data-origin="&lt;h2 id=&quot;stomp&quot;&gt;&lt;a name=&quot;stomp&quot; href=&quot;#stomp&quot;&gt;&lt;/a&gt;STOMP&lt;/h2&gt;" style="clear: both; font-size: 1.8em; margin: 1.275em 0px 0.85em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(230, 230, 230); line-height: 1.7em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif;"><a name="stomp" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#stomp" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>STOMP</h2><p data-origin="&lt;p&gt;STOMP는 text 지향의 message protocol입니다. websocket을 이용한 message handling을 보다 더 쉽게 만들어줍니다. WebSocket이나 SockJS의 경우 onmessage function에서 받는 메세지를 모두 handling해야지 되는 단점을 가지고 있습니다. 이러한 단점을 구독(subscription)과 사용자 구독(user)를 통해서 처리할 수 있다는 장점을 가지고 있습니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP는 text 지향의 message protocol입니다. websocket을 이용한 message handling을 보다 더 쉽게 만들어줍니다. WebSocket이나 SockJS의 경우 onmessage function에서 받는 메세지를 모두 handling해야지 되는 단점을 가지고 있습니다. 이러한 단점을 구독(subscription)과 사용자 구독(user)를 통해서 처리할 수 있다는 장점을 가지고 있습니다.</p><p data-origin="&lt;p&gt;STOMP를 이해하기 위해서는 Client code의 흐름을 보는 것이 좀 더 이해가 편합니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP를 이해하기 위해서는 Client code의 흐름을 보는 것이 좀 더 이해가 편합니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;$scope.client;
$scope.name = &#39;&#39;;
$scope.message = &#39;&#39;;

$scope.init = function() {
  var socket = new SockJS(&#39;http://localhost:8080/endpoint&#39;); //SockJS endpoint를 이용
  $scope.client = Stomp.over(socket); //Stomp client 구성
  $scope.client.connect({}, function(frame) {
    console.log(&#39;connected stomp over sockjs&#39;);
    // subscribe message
    $scope.client.subscribe(&#39;/subscribe/echo&#39;, function(message) {
      console.log(&#39;receive subscribe&#39;);
      console.log(message);
    });
  });
};

// send message
$scope.send = function() {
  var data = {
    name: $scope.name,
    message: $scope.message
  };
  $scope.client.send(&#39;/app/echo&#39;, {}, JSON.stringify(data));
};
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;$scope.client;
$scope.name = &lt;span class=&quot;hljs-string&quot;&gt;&#39;&#39;&lt;/span&gt;;
$scope.message = &lt;span class=&quot;hljs-string&quot;&gt;&#39;&#39;&lt;/span&gt;;

$scope.init = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; socket = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SockJS(&lt;span class=&quot;hljs-string&quot;&gt;&#39;http://localhost:8080/endpoint&#39;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//SockJS endpoint를 이용&lt;/span&gt;
  $scope.client = Stomp.over(socket); &lt;span class=&quot;hljs-comment&quot;&gt;//Stomp client 구성&lt;/span&gt;
  $scope.client.connect({}, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(frame)&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;connected stomp over sockjs&#39;&lt;/span&gt;);
    &lt;span class=&quot;hljs-comment&quot;&gt;// subscribe message&lt;/span&gt;
    $scope.client.subscribe(&lt;span class=&quot;hljs-string&quot;&gt;&#39;/subscribe/echo&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(message)&lt;/span&gt; &lt;/span&gt;{
      &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;hljs-string&quot;&gt;&#39;receive subscribe&#39;&lt;/span&gt;);
      &lt;span class=&quot;hljs-built_in&quot;&gt;console&lt;/span&gt;.log(message);
    });
  });
};

&lt;span class=&quot;hljs-comment&quot;&gt;// send message&lt;/span&gt;
$scope.send = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{
  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; data = {
    name: $scope.name,
    message: $scope.message
  };
  $scope.client.send(&lt;span class=&quot;hljs-string&quot;&gt;&#39;/app/echo&#39;&lt;/span&gt;, {}, &lt;span class=&quot;hljs-built_in&quot;&gt;JSON&lt;/span&gt;.stringify(data));
};
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;$scope.client;
$scope.name = &#39;&#39;;
$scope.message = &#39;&#39;;

$scope.init = function() {
  var socket = new SockJS(&#39;http://localhost:8080/endpoint&#39;); //SockJS endpoint를 이용
  $scope.client = Stomp.over(socket); //Stomp client 구성
  $scope.client.connect({}, function(frame) {
    console.log(&#39;connected stomp over sockjs&#39;);
    // subscribe message
    $scope.client.subscribe(&#39;/subscribe/echo&#39;, function(message) {
      console.log(&#39;receive subscribe&#39;);
      console.log(message);
    });
  });
};

// send message
$scope.send = function() {
  var data = {
    name: $scope.name,
    message: $scope.message
  };
  $scope.client.send(&#39;/app/echo&#39;, {}, JSON.stringify(data));
};
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">$scope.client;
$scope.name = <span class="hljs-string" style="color: rgb(221, 17, 68);">''</span>;
$scope.message = <span class="hljs-string" style="color: rgb(221, 17, 68);">''</span>;

$scope.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">var</span> socket = <span class="hljs-keyword">new</span> SockJS(<span class="hljs-string" style="color: rgb(221, 17, 68);">'http://localhost:8080/endpoint'</span>); <span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//SockJS endpoint를 이용</span>
  $scope.client = Stomp.over(socket); <span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">//Stomp client 구성</span>
  $scope.client.connect({}, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(frame)</span> </span>{
    <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'connected stomp over sockjs'</span>);
    <span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">// subscribe message</span>
    $scope.client.subscribe(<span class="hljs-string" style="color: rgb(221, 17, 68);">'/subscribe/echo'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span> </span>{
      <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(<span class="hljs-string" style="color: rgb(221, 17, 68);">'receive subscribe'</span>);
      <span class="hljs-built_in" style="color: rgb(0, 134, 179);">console</span>.log(message);
    });
  });
};

<span class="hljs-comment" style="color: rgb(153, 153, 136); font-style: italic;">// send message</span>
$scope.send = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">var</span> data = {
    name: $scope.name,
    message: $scope.message
  };
  $scope.client.send(<span class="hljs-string" style="color: rgb(221, 17, 68);">'/app/echo'</span>, {}, <span class="hljs-built_in" style="color: rgb(0, 134, 179);">JSON</span>.stringify(data));
};
</code></pre><p data-origin="&lt;p&gt;STOMP는 기본적으로 subscribe를 통해서 데이터를 전달받습니다. 따라서, 이 message가 어떠한 method에 의해서 전송을 받았는지를 좀 더 명확히 할 수 있습니다. 기존의 WebSocket이나 SockJS를 이용하게 되는 경우에는 전달받는 message의 범위가 매우 광범위하기 때문에, 전달되는 메세지에 message key값을 넣어서 send/receive에 대한 처리를 따로 해줘야지 되는 것이 일반적입니다. 그렇지만, STOMP의 경우에는 접근하는 방식이 send point와 subscribe point가 각기 다르기 때문에 처리를 좀 더 자유롭게 해줄 수 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP는 기본적으로 subscribe를 통해서 데이터를 전달받습니다. 따라서, 이 message가 어떠한 method에 의해서 전송을 받았는지를 좀 더 명확히 할 수 있습니다. 기존의 WebSocket이나 SockJS를 이용하게 되는 경우에는 전달받는 message의 범위가 매우 광범위하기 때문에, 전달되는 메세지에 message key값을 넣어서 send/receive에 대한 처리를 따로 해줘야지 되는 것이 일반적입니다. 그렇지만, STOMP의 경우에는 접근하는 방식이 send point와 subscribe point가 각기 다르기 때문에 처리를 좀 더 자유롭게 해줄 수 있습니다.</p><p data-origin="&lt;p&gt;STOMP에서는 subscribe와 user/** 두개로 subscribe의 target을 나눌수 있는데, 각각의 차이는 전자는 전역이고, 후자는 호출된 사용자에게만 던져진다는 차이를 가지고 있습니다.&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP에서는 subscribe와 user/** 두개로 subscribe의 target을 나눌수 있는데, 각각의 차이는 전자는 전역이고, 후자는 호출된 사용자에게만 던져진다는 차이를 가지고 있습니다.</p><p data-origin="&lt;p&gt;이제 Spring을 이용한 STOMP 서버 구축에 들어가보도록 하겠습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">이제 Spring을 이용한 STOMP 서버 구축에 들어가보도록 하겠습니다.</p><h4 id="dependency-" data-origin="&lt;h4 id=&quot;dependency-&quot;&gt;&lt;a name=&quot;dependency-&quot; href=&quot;#dependency-&quot;&gt;&lt;/a&gt;Dependency 설정&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="dependency-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#dependency-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>Dependency 설정</h4><p data-origin="&lt;p&gt;STOMP를 지원하기 위해서 Spring은 spring-message에 대한 dependency를 필요로 합니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP를 지원하기 위해서 Spring은 spring-message에 대한 dependency를 필요로 합니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;groovy hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;groovy&amp;quot;&amp;gt;compile &amp;quot;org.springframework:spring-messaging:${rootProject.ext.springVersion}&amp;quot;
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;compile &quot;org.springframework:spring-messaging:${rootProject.ext.springVersion}&quot;
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="groovy hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;groovy&quot;&gt;compile &quot;org.springframework:spring-messaging:${rootProject.ext.springVersion}&quot;
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">compile "org.springframework:spring-messaging:${rootProject.ext.springVersion}"
</code></pre><h4 id="-configuration-" data-origin="&lt;h4 id=&quot;-configuration-&quot;&gt;&lt;a name=&quot;-configuration-&quot; href=&quot;#-configuration-&quot;&gt;&lt;/a&gt;@Configuration 설정&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="-configuration-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#-configuration-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>@Configuration 설정</h4><p data-origin="&lt;p&gt;STOMP를 지원하기 위해서는 @EnableWebSocketMessageBroker과 @Configuration에서는 AbstractWebSocketMessageBrokerConfigurer를 상속받거나, WebSocketMessageBrokerConfigurer 인터페이스를 구현해야지 됩니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP를 지원하기 위해서는 @EnableWebSocketMessageBroker과 @Configuration에서는 AbstractWebSocketMessageBrokerConfigurer를 상속받거나, WebSocketMessageBrokerConfigurer 인터페이스를 구현해야지 됩니다.</p><p data-origin="&lt;p&gt;@Configuration에서 할 일은 2가지입니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">@Configuration에서 할 일은 2가지입니다.</p><p data-origin="&lt;p&gt;1) EndPoint의 설정&lt;br /&gt;2) (option) STOMP URL에 대한 전역 prefix 설정&lt;br /&gt;3) (option) send에 대한 subscribe url의 prefix 설정&lt;br /&gt;4) @EnableWebSocketMessageBroker 설정&lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">1) EndPoint의 설정<br style="clear: both;">2) (option) STOMP URL에 대한 전역 prefix 설정<br style="clear: both;">3) (option) send에 대한 subscribe url의 prefix 설정<br style="clear: both;">4) @EnableWebSocketMessageBroker 설정</p><h5 id="endpoint-" data-origin="&lt;h5 id=&quot;endpoint-&quot;&gt;&lt;a name=&quot;endpoint-&quot; href=&quot;#endpoint-&quot;&gt;&lt;/a&gt;EndPoint 설정&lt;/h5&gt;" style="clear: both; font-size: 1.2em; margin: 0.855em 0px 0.57em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="endpoint-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#endpoint-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>EndPoint 설정</h5><p data-origin="&lt;p&gt;EndPoint의 경우, SockJS를 사용할지, WebSocket을 사용할지에 따라 다른 설정을 해주게 됩니다. STOMP를 이용하는 것은 대부분 SockJS를 이용해서 Browser의 적합성을 높이는 경우가 많기 때문에, SockJS를 이용하는 것이 일반적입니다. WebSocketMessageBrokerConfigurer 인터페이스의 registerStompEndpoints method를 다음과 같이 정의합니다.&lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">EndPoint의 경우, SockJS를 사용할지, WebSocket을 사용할지에 따라 다른 설정을 해주게 됩니다. STOMP를 이용하는 것은 대부분 SockJS를 이용해서 Browser의 적합성을 높이는 경우가 많기 때문에, SockJS를 이용하는 것이 일반적입니다. WebSocketMessageBrokerConfigurer 인터페이스의 registerStompEndpoints method를 다음과 같이 정의합니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint(&amp;quot;/endpoint&amp;quot;).withSockJS();
    }
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;registerStompEndpoints&lt;/span&gt;(StompEndpointRegistry registry) {
        registry.addEndpoint(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/endpoint&quot;&lt;/span&gt;).withSockJS();
    }
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint(&quot;/endpoint&quot;).withSockJS();
    }
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">registerStompEndpoints</span>(StompEndpointRegistry registry) {
        registry.addEndpoint(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/endpoint"</span>).withSockJS();
    }
</code></pre><h5 id="prefix-" data-origin="&lt;h5 id=&quot;prefix-&quot;&gt;&lt;a name=&quot;prefix-&quot; href=&quot;#prefix-&quot;&gt;&lt;/a&gt;prefix 설정&lt;/h5&gt;" style="clear: both; font-size: 1.2em; margin: 0.855em 0px 0.57em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="prefix-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#prefix-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>prefix 설정</h5><p data-origin="&lt;p&gt;Send Url에 대한 전역 prefix와 subscribe에 대한 전역 prefix를 설정할 수 있습니다. 이는 WebSocketMessageBrokerConfigurer 인터페이스의 configureMessageBroker method 에서 수정하면 됩니다. (아래는 모든 send prefix를 app으로 지정하고, subscribe의 기본 prefix를 subscribe로 지정했습니다.)&lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">Send Url에 대한 전역 prefix와 subscribe에 대한 전역 prefix를 설정할 수 있습니다. 이는 WebSocketMessageBrokerConfigurer 인터페이스의 configureMessageBroker method 에서 수정하면 됩니다. (아래는 모든 send prefix를 app으로 지정하고, subscribe의 기본 prefix를 subscribe로 지정했습니다.)</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;    @Override
    public void configureMessageBroker(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&amp;quot;/subscribe&amp;quot;);
        registry.setApplicationDestinationPrefixes(&amp;quot;/app&amp;quot;);
    }
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;configureMessageBroker&lt;/span&gt;(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;);
        registry.setApplicationDestinationPrefixes(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/app&quot;&lt;/span&gt;);
    }
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;    @Override
    public void configureMessageBroker(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&quot;/subscribe&quot;);
        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);
    }
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">configureMessageBroker</span>(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/subscribe"</span>);
        registry.setApplicationDestinationPrefixes(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/app"</span>);
    }
</code></pre><h5 id="-enablewebsocketmessagebroker-" data-origin="&lt;h5 id=&quot;-enablewebsocketmessagebroker-&quot;&gt;&lt;a name=&quot;-enablewebsocketmessagebroker-&quot; href=&quot;#-enablewebsocketmessagebroker-&quot;&gt;&lt;/a&gt;@EnableWebSocketMessageBroker 설정&lt;/h5&gt;" style="clear: both; font-size: 1.2em; margin: 0.855em 0px 0.57em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="-enablewebsocketmessagebroker-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#-enablewebsocketmessagebroker-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>@EnableWebSocketMessageBroker 설정</h5><p data-origin="&lt;p&gt;모든 설정이 완료된 @Configuration code는 다음과 같습니다.&lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">모든 설정이 완료된 @Configuration code는 다음과 같습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;@Configuration
@EnableWebSocketMessageBroker
@ComponentScan(basePackages = {
        &amp;quot;me.xyzlast.controllers&amp;quot;
})
public class StompConfigurer extends AbstractWebSocketMessageBrokerConfigurer {

    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint(&amp;quot;/endpoint&amp;quot;).withSockJS();
    }

    @Override
    public void configureMessageBroker(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&amp;quot;/subscribe&amp;quot;);
        registry.setApplicationDestinationPrefixes(&amp;quot;/app&amp;quot;);
    }
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-annotation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;hljs-annotation&quot;&gt;@EnableWebSocketMessageBroker&lt;/span&gt;
&lt;span class=&quot;hljs-annotation&quot;&gt;@ComponentScan&lt;/span&gt;(basePackages = {
        &lt;span class=&quot;hljs-string&quot;&gt;&quot;me.xyzlast.controllers&quot;&lt;/span&gt;
})
&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;StompConfigurer&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;AbstractWebSocketMessageBrokerConfigurer&lt;/span&gt; &lt;/span&gt;{

    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;registerStompEndpoints&lt;/span&gt;(StompEndpointRegistry registry) {
        registry.addEndpoint(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/endpoint&quot;&lt;/span&gt;).withSockJS();
    }

    &lt;span class=&quot;hljs-annotation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;configureMessageBroker&lt;/span&gt;(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;);
        registry.setApplicationDestinationPrefixes(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/app&quot;&lt;/span&gt;);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Configuration
@EnableWebSocketMessageBroker
@ComponentScan(basePackages = {
        &quot;me.xyzlast.controllers&quot;
})
public class StompConfigurer extends AbstractWebSocketMessageBrokerConfigurer {

    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint(&quot;/endpoint&quot;).withSockJS();
    }

    @Override
    public void configureMessageBroker(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(&quot;/subscribe&quot;);
        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-annotation">@Configuration</span>
<span class="hljs-annotation">@EnableWebSocketMessageBroker</span>
<span class="hljs-annotation">@ComponentScan</span>(basePackages = {
        <span class="hljs-string" style="color: rgb(221, 17, 68);">"me.xyzlast.controllers"</span>
})
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">StompConfigurer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">AbstractWebSocketMessageBrokerConfigurer</span> </span>{

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">registerStompEndpoints</span>(StompEndpointRegistry registry) {
        registry.addEndpoint(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/endpoint"</span>).withSockJS();
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title" style="color: rgb(153, 0, 0);">configureMessageBroker</span>(MessageBrokerRegistry registry) {
        registry.enableSimpleBroker(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/subscribe"</span>);
        registry.setApplicationDestinationPrefixes(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/app"</span>);
    }
}
</code></pre><h3 id="-controller-" data-origin="&lt;h3 id=&quot;-controller-&quot;&gt;&lt;a name=&quot;-controller-&quot; href=&quot;#-controller-&quot;&gt;&lt;/a&gt;@Controller 구성&lt;/h3&gt;" style="clear: both; font-size: 1.6em; margin: 1.125em 0px 0.75em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="-controller-" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#-controller-" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>@Controller 구성</h3><p data-origin="&lt;p&gt;STOMP의 @Controller는 Spring MVC의 @Controller와 같은 @annotation을 사용하고, STOMP를 제공하기 위한 다음 @annotation들을 제공합니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP의 @Controller는 Spring MVC의 @Controller와 같은 @annotation을 사용하고, STOMP를 제공하기 위한 다음 @annotation들을 제공합니다.</p><table data-origin="&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;@annotation&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;@MessageMapping&lt;/td&gt;
&lt;td&gt;STOMP client의 send에 대한 target url입니다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;@SendTo&lt;/td&gt;
&lt;td&gt;STOMP client의 subscribe에 대한 target url을 지정합니다. (지정되지 않은 경우, @MessageMapping에 지정된 URL + @Configuration에서 설정된 prefix URL을 이용합니다. )&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;@SubscribeEvent&lt;/td&gt;
&lt;td&gt;client에서 subscribe 할 수 있는 url을 지정합니다. 특정 message가 발생하거나 event가 발생했을 때, Client에 값을 전송하는데 사용합니다.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;" style="padding: 0px; border-collapse: collapse; border-spacing: 0px; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; background-color: rgb(250, 250, 250);"><thead><tr><th style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">@annotation</th><th style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">description</th></tr></thead><tbody><tr><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">@MessageMapping</td><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">STOMP client의 send에 대한 target url입니다.</td></tr><tr style="background-color: rgb(242, 242, 242);"><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">@SendTo</td><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">STOMP client의 subscribe에 대한 target url을 지정합니다. (지정되지 않은 경우, @MessageMapping에 지정된 URL + @Configuration에서 설정된 prefix URL을 이용합니다. )</td></tr><tr><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">@SubscribeEvent</td><td style="border: 1px solid rgb(230, 230, 230); margin: 0px; padding: 6px 13px;">client에서 subscribe 할 수 있는 url을 지정합니다. 특정 message가 발생하거나 event가 발생했을 때, Client에 값을 전송하는데 사용합니다.</td></tr></tbody></table><p data-origin="&lt;p&gt;annotation이 적용된 @Controller code는 다음과 같이 구성될 수 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">annotation이 적용된 @Controller code는 다음과 같이 구성될 수 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;@Controller
public class EchoController {
    @MessageMapping(&amp;quot;/echo&amp;quot;)
    @SendTo(&amp;quot;/subscribe/echo&amp;quot;)
    public Hello sendEcho(Hello hello) throws Exception {
        System.out.println(&amp;quot;receive message : &amp;quot; + hello.toString());
        Hello echoHello = new Hello();
        echoHello.setMessage(hello.getName());
        echoHello.setName(hello.getMessage());
        return echoHello;
    }
}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;&lt;span class=&quot;hljs-annotation&quot;&gt;@Controller&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;EchoController&lt;/span&gt; &lt;/span&gt;{
    &lt;span class=&quot;hljs-annotation&quot;&gt;@MessageMapping&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/echo&quot;&lt;/span&gt;)
    &lt;span class=&quot;hljs-annotation&quot;&gt;@SendTo&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/subscribe/echo&quot;&lt;/span&gt;)
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; Hello &lt;span class=&quot;hljs-title&quot;&gt;sendEcho&lt;/span&gt;(Hello hello) &lt;span class=&quot;hljs-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        System.out.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;receive message : &quot;&lt;/span&gt; + hello.toString());
        Hello echoHello = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Hello();
        echoHello.setMessage(hello.getName());
        echoHello.setName(hello.getMessage());
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; echoHello;
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;@Controller
public class EchoController {
    @MessageMapping(&quot;/echo&quot;)
    @SendTo(&quot;/subscribe/echo&quot;)
    public Hello sendEcho(Hello hello) throws Exception {
        System.out.println(&quot;receive message : &quot; + hello.toString());
        Hello echoHello = new Hello();
        echoHello.setMessage(hello.getName());
        echoHello.setName(hello.getMessage());
        return echoHello;
    }
}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);"><span class="hljs-annotation">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title" style="color: rgb(68, 85, 136);">EchoController</span> </span>{
    <span class="hljs-annotation">@MessageMapping</span>(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/echo"</span>)
    <span class="hljs-annotation">@SendTo</span>(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/subscribe/echo"</span>)
    <span class="hljs-keyword">public</span> Hello <span class="hljs-title" style="color: rgb(153, 0, 0);">sendEcho</span>(Hello hello) <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string" style="color: rgb(221, 17, 68);">"receive message : "</span> + hello.toString());
        Hello echoHello = <span class="hljs-keyword">new</span> Hello();
        echoHello.setMessage(hello.getName());
        echoHello.setName(hello.getMessage());
        <span class="hljs-keyword">return</span> echoHello;
    }
}
</code></pre><p data-origin="&lt;p&gt;위 @Controller의 sendEcho methos는 &lt;code&gt;/echo&lt;/code&gt; url을 통해 데이터를 전달받고, &lt;code&gt;/subscribe/echo&lt;/code&gt;를 통해 데이터를 전달하게 됩니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">위 @Controller의 sendEcho methos는&nbsp;<code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(239, 223, 208); padding: 0px 5px; margin: 0px 2px; color: rgb(0, 0, 0); background-color: rgb(254, 236, 221);">/echo</code>&nbsp;url을 통해 데이터를 전달받고,&nbsp;<code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(239, 223, 208); padding: 0px 5px; margin: 0px 2px; color: rgb(0, 0, 0); background-color: rgb(254, 236, 221);">/subscribe/echo</code>를 통해 데이터를 전달하게 됩니다.</p><p data-origin="&lt;p&gt;기존의 SockJS와는 다르게 MessageHandler를 따로 구현하지 않습니다. 기본적으로 @Controller를 이용해서 처리하기 때문에 기존의 WebMvc와 거의 유사한 형태의 개발을 진행할 수 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">기존의 SockJS와는 다르게 MessageHandler를 따로 구현하지 않습니다. 기본적으로 @Controller를 이용해서 처리하기 때문에 기존의 WebMvc와 거의 유사한 형태의 개발을 진행할 수 있습니다.</p><h4 id="user-destination" data-origin="&lt;h4 id=&quot;user-destination&quot;&gt;&lt;a name=&quot;user-destination&quot; href=&quot;#user-destination&quot;&gt;&lt;/a&gt;User Destination&lt;/h4&gt;" style="clear: both; font-size: 1.4em; margin: 0.99em 0px 0.66em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; line-height: normal;"><a name="user-destination" href="file:///C:/Users/HAPPYH~1/AppData/Local/Temp/nw40688_28808/viewer.html#user-destination" style="vertical-align: baseline; color: rgb(50, 105, 160);"></a>User Destination</h4><p data-origin="&lt;p&gt;STOMP에서는 특정 사용자들에게 메세지를 보낼 수 있습니다. 기본값으로 설정되어 있는 &lt;code&gt;/user&lt;/code&gt;로 시작되는 subscribe의 경우에는 각 사용자들이 받을 수 있는 url을 제공합니다. 이는 사용자들의 특화된 message를 보내거나 error handling시에 주로 사용됩니다. &lt;/p&gt;" style="margin-right: 0px; margin-bottom: 1em; margin-left: 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">STOMP에서는 특정 사용자들에게 메세지를 보낼 수 있습니다. 기본값으로 설정되어 있는&nbsp;<code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(239, 223, 208); padding: 0px 5px; margin: 0px 2px; color: rgb(0, 0, 0); background-color: rgb(254, 236, 221);">/user</code>로 시작되는 subscribe의 경우에는 각 사용자들이 받을 수 있는 url을 제공합니다. 이는 사용자들의 특화된 message를 보내거나 error handling시에 주로 사용됩니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;javascript hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;javascript&amp;quot;&amp;gt;client.subscribe(&#39;/user/queue/private-message&#39;) = function(messaage) {

}
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;client.subscribe(&lt;span class=&quot;hljs-string&quot;&gt;&#39;/user/queue/private-message&#39;&lt;/span&gt;) = &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(messaage)&lt;/span&gt; &lt;/span&gt;{

}
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;client.subscribe(&#39;/user/queue/private-message&#39;) = function(messaage) {

}
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">client.subscribe(<span class="hljs-string" style="color: rgb(221, 17, 68);">'/user/queue/private-message'</span>) = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(messaage)</span> </span>{

}
</code></pre><p data-origin="&lt;p&gt;이러한 User subscribe는 Spring에서 @SendToUser annotation으로 기능이 따로 제공되고 있습니다. &lt;/p&gt;" style="margin: 1em 0px; word-wrap: break-word; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Sans&#39;, AppleSDGothicNeo-Medium, &#39;Segoe UI&#39;, &#39;Malgun Gothic&#39;, Verdana, Tahoma, sans-serif; font-size: 13px; line-height: normal;">이러한 User subscribe는 Spring에서 @SendToUser annotation으로 기능이 따로 제공되고 있습니다.</p><pre data-origin="&lt;pre&gt;&lt;code class=&quot;java hljs&quot; data-origin=&quot;&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;java&amp;quot;&amp;gt;    @MessageMapping(&amp;quot;/message&amp;quot;)
    @SendToUser
    public String sendMessage(String message) {
        return message.toUpperCase();
    }

    @MessageExceptionHandler
    @SendToUser(&amp;quot;/queue/errors&amp;quot;)
    public String handlingException(IllegalStateException ex) {
        return ex.getMessage();
    }
&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&quot;&gt;    &lt;span class=&quot;hljs-annotation&quot;&gt;@MessageMapping&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/message&quot;&lt;/span&gt;)
    &lt;span class=&quot;hljs-annotation&quot;&gt;@SendToUser&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;hljs-title&quot;&gt;sendMessage&lt;/span&gt;(String message) {
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; message.toUpperCase();
    }

    &lt;span class=&quot;hljs-annotation&quot;&gt;@MessageExceptionHandler&lt;/span&gt;
    &lt;span class=&quot;hljs-annotation&quot;&gt;@SendToUser&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/queue/errors&quot;&lt;/span&gt;)
    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;hljs-title&quot;&gt;handlingException&lt;/span&gt;(IllegalStateException ex) {
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; ex.getMessage();
    }
&lt;/code&gt;&lt;/pre&gt;" style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto; color: rgb(34, 34, 34); font-size: 13px; line-height: normal;"><code class="java hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;    @MessageMapping(&quot;/message&quot;)
    @SendToUser
    public String sendMessage(String message) {
        return message.toUpperCase();
    }

    @MessageExceptionHandler
    @SendToUser(&quot;/queue/errors&quot;)
    public String handlingException(IllegalStateException ex) {
        return ex.getMessage();
    }
&lt;/code&gt;&lt;/pre&gt;" style="display: block; padding: 0.5em; color: rgb(51, 51, 51); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); margin: 0px; font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold; background-color: rgb(248, 248, 248);">    <span class="hljs-annotation">@MessageMapping</span>(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/message"</span>)
    <span class="hljs-annotation">@SendToUser</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title" style="color: rgb(153, 0, 0);">sendMessage</span>(String message) {
        <span class="hljs-keyword">return</span> message.toUpperCase();
    }

    <span class="hljs-annotation">@MessageExceptionHandler</span>
    <span class="hljs-annotation">@SendToUser</span>(<span class="hljs-string" style="color: rgb(221, 17, 68);">"/queue/errors"</span>)
    <span class="hljs-keyword">public</span> String <span class="hljs-title" style="color: rgb(153, 0, 0);">handlingException</span>(IllegalStateException ex) {
        <span class="hljs-keyword">return</span> ex.getMessage();
    }</code></pre><p><br></p><div class="container_postbtn"><div class="postbtn_like"><div class="like_btn" data-uoc-svc="tistory" data-uoc-uid="328486_424" data-uoc-sc="" data-uoc-pcurl="http://netframework.tistory.com/424" data-uoc-fetchurl="http://api.kakao.tistory.com/like/fetch?uid=328486_424"><label class="uoc-icon"><span class="ico_postbtn ico_like"></span> <span class="txt_like uoc-text screen_out">공감</span><span class="txt_like uoc-count">1</span><input type="button" class="inp_btn uoc-button"></label></div><span class="ico_bar"></span><label data-thumbnail-url="https://t1.daumcdn.net/cssjs/icon/557567EA016E200001" data-title="Spring 4.x에서의 WebSocket, SockJS, STOMP" data-description="WebSocket, SockJS, STOMP &quot; style=&quot;clear: both; font-size: 2.2em; margin: 0px 0px 1em; color: rgb(34, 34, 34); font-family: &#39;Roboto Condensed&#39;, Tauri, &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida.." data-profile-image="http://cfile24.uf.tistory.com/image/162C3F284A19E94C432281" data-profile-name="Y2K" data-pc-url="http://netframework.tistory.com/424" data-blog-title="Programming is Fun"><span class="ico_postbtn ico_sns">sns</span><input type="button" class="inp_btn"></label><span class="ico_bar"></span><label data-entry-id="424"><span class="ico_postbtn ico_report">신고</span><input type="button" class="inp_btn"></label></div><div class="postbtn_ccl" data-ccl-type="1"><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko" target="_blank" class="link_ccl"><span class="bundle_ccl"><span class="ico_postbtn ico_ccl1">저작자표시</span><span class="ico_postbtn ico_ccl2">비영리</span><span class="ico_postbtn ico_ccl3">변경금지</span></span></a></div></div>    <!--
	<rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<Work rdf:about="">
			<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/2.0/kr/" />
		</Work>
		<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/">
			<permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
			<permits rdf:resource="http://web.resource.org/cc/Distribution"/>
			<requires rdf:resource="http://web.resource.org/cc/Notice"/>
			<requires rdf:resource="http://web.resource.org/cc/Attribution"/>
			<prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/>
		</License>
	</rdf:RDF>
	--></div>
								</div>
								<div class="author">
									<span class="text">Posted by </span>xyzlast Y2K 
								</div>
								
								
			
								<div class="actionTrail">
										<a href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP#tb" onclick="toggleLayerForEntry(424, &#39;trackback&#39;); return false"><span id="trackbackCount424">트랙백 <span class="cnt">0</span>개</span></a>, 
										<a href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP#rp" onclick="toggleLayerForEntry(&#39;424&#39;, &#39;comment&#39;); return false"><span id="commentCount424">댓글 <span class="cnt">7</span>개가 달렸습니다</span></a>
								</div>
								
								<div id="entry424Trackback" style="display:none">
									<div class="trackback">
										<h3>트랙백 주소 : </h3>
										
									</div><!-- trackback close -->
								</div>
			
								<div id="entry424Comment" style="display:none"></div>
							</div><!-- entry close -->
						
			
						
							<div id="paging">
								<a href="http://netframework.tistory.com/entry/Spring-Transactional%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC" class="" id="prevPage">이전</a>
								<span class="numbox">
									
									<a href="http://netframework.tistory.com/entry/PKI-%EC%8B%9C%EC%8A%A4%ED%85%9C" class="num"> <span>1</span></a>
									
									<a class="num"> <span>···</span></a>
									
									<a href="http://netframework.tistory.com/entry/Google-Guice%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-DI-1" class="num"> <span>29</span></a>
									
									<a href="http://netframework.tistory.com/entry/Gradle%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-Web-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%9D%98-%EA%B5%AC%EC%84%B1" class="num"> <span>30</span></a>
									
									<a href="http://netframework.tistory.com/entry/LTW-CTW%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-Transactional%EC%9D%98-%EC%82%AC%EC%9A%A9" class="num"> <span>31</span></a>
									
									<a href="http://netframework.tistory.com/entry/Spring-Transactional%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC" class="num"> <span>32</span></a>
									
									<a class="num"> <span class="selected">33</span></a>
									
									<a href="http://netframework.tistory.com/entry/REST-API-%EA%B5%AC%EC%84%B1%EC%8B%9C-Spring-Security-%EA%B5%AC%ED%98%84" class="num"> <span>34</span></a>
									
									<a href="http://netframework.tistory.com/entry/Spring-MVC%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-Ajax-File-upload" class="num"> <span>35</span></a>
									
									<a href="http://netframework.tistory.com/entry/gradle%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-Spring-MVC-Web-Application-Spring-Data-JPA-QueryDSL" class="num"> <span>36</span></a>
									
									<a href="http://netframework.tistory.com/entry/Java-VM-YoungGen-space%EC%9D%98-%EB%8F%99%EC%9E%91" class="num"> <span>37</span></a>
									
									<a class="num"> <span>···</span></a>
									
									<a href="http://netframework.tistory.com/entry/%EC%A3%BC%EC%9D%B8%EC%9E%A5%EC%9E%85%EB%8B%88%EB%8B%A4" class="num"> <span>429</span></a>
									
								</span>
								<a href="http://netframework.tistory.com/entry/REST-API-%EA%B5%AC%EC%84%B1%EC%8B%9C-Spring-Security-%EA%B5%AC%ED%98%84" class="" id="nextPage">다음</a>
							</div>
						
					</div><!-- content close -->
					<hr>
			
					<div id="sidebar">
						
							<!-- 블로그 프로필 모듈 -->	
								<table id="profile" cellpadding="0">
									<colgroup>
										<col width="11"><col><col width="11">
									</colgroup>
									<tbody><tr>
										<td class="topL"></td><td class="topC"></td><td class="topR"></td>
									</tr>
									<tr>
										<td class="midL"></td>
										<td>
											<div id="blogImage"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/노짱.jpg" alt="블로그 이미지"></div>
											<div id="blogDesc">
												<p>Still waters run deep. When the well's dry, we know the worth of water. </p><p class="userID">by <strong>Y2K</strong></p>
											</div>
										</td>
										<td class="midR"></td>
									</tr>
									<tr>
										<td class="btmL"></td><td class="btmC"></td><td class="btmR"></td>
									</tr>
								</tbody></table>						
							
							<!-- 공지사항 모듈 -->
								
									<div id="notice">
										<ul>
											
										</ul>
									</div>
								
							
							<!-- 관리자 모듈 -->
								<div id="adminMenu">
									<ul>
										<li class="tab_admin">
											<a href="http://netframework.tistory.com/manage"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/btn_admin.gif" alt="관리자"></a></li>
										<li class="tab_write">
											<a href="http://netframework.tistory.com/manage/entry/post"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/btn_write.gif" alt="글쓰기"></a></li>
									</ul>
								</div>
							
							<!-- 검색 모듈 -->
								<div id="searchBox">
									
										<input type="text" name="search" value="" onkeypress="if (event.keyCode == 13) { try{window.location.href=&#39;/search/&#39;+looseURIEncode(document.getElementsByName(&#39;search&#39;)[0].value);document.getElementsByName(&#39;search&#39;)[0].value=&#39;&#39;;return false;}catch(e){} }">
										<input value="검색" type="button" onclick="try{window.location.href=&#39;/search/&#39;+looseURIEncode(document.getElementsByName(&#39;search&#39;)[0].value);document.getElementsByName(&#39;search&#39;)[0].value=&#39;&#39;;return false;}catch(e){}" class="submit">
									
								</div>
							
							<!-- 카테고리 모듈 -->
								<div id="category">
									<h3>카테고리</h3>
									<script type="text/javascript">
	//<![CDATA[
	var expanded = false;
	function expandTree() {
																																																																									}

	function expandFolder(category, expand) {
		var oLevel1 = document.getElementById("category_" + category);
		var oImg = oLevel1.getElementsByTagName("img")[0];
		switch (expand) {
			case true:
				oImg.src = "https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/tab_opened.gif";
				showLayer("category_" + category + "_children");
				return true;
			case false:
				oImg.src = "https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/tab_closed.gif";
				hideLayer("category_" + category + "_children");
				return true;
		}
		return false;
	}

	function toggleFolder(category) {
		var oLevel1 = document.getElementById("category_" + category);
		var oImg = oLevel1.getElementsByTagName("img")[0];
		switch (oImg.src.substr(oImg.src.length - 10, 6)) {
			case "isleaf":
				return true;
			case "closed":
				oImg.src = "https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/tab_opened.gif";
				tt_showLayer("category_" + category + "_children");
				expanded = true;
				return true;
			case "opened":
				oImg.src = "https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/tab_closed.gif";
				tt_hideLayer("category_" + category + "_children");
				expanded = false;
				return true;
		}
		return false;
	}
	var selectedNode = 0;
	function selectNode(category) {

		try {
			var root = document.getElementById('treeComponent');
			var prevSelectedNode= root.getAttribute('currentselectednode');
			var oLevel = document.getElementById("category_" + selectedNode);
			var oChild = oLevel.getElementsByTagName("table")[0];

			oChild.style.color = "#666666";
						oChild.style.backgroundColor = "#f8f8f8"
			root.setAttribute('currentselectednode',category);
			document.getElementById('text_'+selectedNode).style.color="#666666";

			var oLevel = document.getElementById("category_" + category);
			var oChild = oLevel.getElementsByTagName("table")[0];
			oChild.style.color = "#666666";
						oChild.style.backgroundColor = "#f8f8f8"
			document.getElementById('text_'+category).style.color="#666666";

			selectedNode = category;
		} catch(e) {
		}
	}

	function setTreeStyle(skin) {
		try {
			treeNodes = document.getElementsByName("treeNode");
			for(var i=0; i<treeNodes.length; i++) {
				if( ('category_'+selectedNode) == (treeNodes[i].getAttribute('id').value) ) {
					var oLevel = document.getElementById('category_'+i);
					var oChild = oLevel.getElementsByTagName("table")[0];
					oChild.style.color ='#'+skin['activeItemColor'];
					if (skin['activeItemBgColor'] != '' && skin['activeItemBgColor'] != undefined) {
						oChild.style.backgroundColor ='#'+skin['activeItemBgColor'];
					} else {
						oChild.style.backgroundColor ="";
					}
				} else{
					var oLevel = document.getElementById("category_" + i);
					var oChild = oLevel.getElementsByTagName("table")[0];
					oChild.style.color ='#'+skin['colorOnTree'];
					oChild.style.backgroundColor ='#'+skin['bgColorOnTree'];
					var oLevel = document.getElementById('text_'+i).style.color='#'+skin['colorOnTree'];
				}
			}
		} catch(e) {
		}
	}
	//]]>
</script>


<table id="treeComponent" cellpadding="0" cellspacing="0" style="width: 100%;"><tbody><tr>
	<td>
		<table id="category_0" cellpadding="0" cellspacing="0"><tbody><tr>
			<td class="ib" style="font-size: 1px"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_top.gif" width="16" onclick="expandTree()" alt="" style="display:block"></td>
			<td valign="top" style="font-size:9pt; padding-left:3px">
				<table id="imp0" cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
										<td class="branch3" onclick="window.location.href=&#39;/category&#39;">
						<div id="text_0" style=" color: #666666;">분류 전체보기						<span class="c_cnt">(429)</span>						</div>
					</td>
				</tr></tbody></table>
			</td>
		</tr></tbody></table>

					<table id="category_196754" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196754&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/.NET%20Framework&#39;"><div id="text_196754" style="color: #666666;">.NET Framework <span class="c_cnt">(131)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196754_children" style="display:none">
							</div>
						<table id="category_371317" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;371317&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/NHibernate&#39;"><div id="text_371317" style="color: #666666;">NHibernate <span class="c_cnt">(5)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_371317_children" style="display:none">
							</div>
						<table id="category_196755" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196755&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/Dynamic%20Language&#39;"><div id="text_196755" style="color: #666666;">Dynamic Language <span class="c_cnt">(25)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196755_children" style="display:none">
							</div>
						<table id="category_196756" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196756&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/Book&#39;"><div id="text_196756" style="color: #666666;">Book <span class="c_cnt">(33)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196756_children" style="display:none">
							</div>
						<table id="category_196757" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196757&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/%EC%8B%9C%EB%81%8C%EB%B2%85%EC%A0%81&#39;"><div id="text_196757" style="color: #666666;">시끌벅적 <span class="c_cnt">(43)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196757_children" style="display:none">
							</div>
						<table id="category_196758" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196758&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/%EA%B8%B0%ED%83%80%20%EC%9E%90%EB%A3%8C%EB%93%A4&#39;"><div id="text_196758" style="color: #666666;">기타 자료들 <span class="c_cnt">(50)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196758_children" style="display:none">
							</div>
						<table id="category_196759" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;196759&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/OS%20%EC%9E%90%EB%A3%8C%EB%93%A4&#39;"><div id="text_196759" style="color: #666666;">OS 자료들 <span class="c_cnt">(29)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_196759_children" style="display:none">
							</div>
						<table id="category_206782" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;206782&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/%ED%95%A0%EC%9D%BC%EB%93%A4...&#39;"><div id="text_206782" style="color: #666666;">할일들... <span class="c_cnt">(3)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_206782_children" style="display:none">
							</div>
						<table id="category_228276" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;228276&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/%EA%B8%80%EC%93%B0%EA%B8%B0&#39;"><div id="text_228276" style="color: #666666;">글쓰기 <span class="c_cnt">(0)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_228276_children" style="display:none">
							</div>
						<table id="category_289329" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;289329&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/Sample%20Codes&#39;"><div id="text_289329" style="color: #666666;">Sample Codes <span class="c_cnt">(12)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_289329_children" style="display:none">
							</div>
						<table id="category_397797" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;397797&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/Object-C&#39;"><div id="text_397797" style="color: #666666;">Object-C <span class="c_cnt">(2)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_397797_children" style="display:none">
							</div>
						<table id="category_461854" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;461854&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/Java&#39;"><div id="text_461854" style="color: #666666;">Java <span class="c_cnt">(80)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_461854_children" style="display:none">
							</div>
						<table id="category_571666" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive.gif"><a class="click" onclick="toggleFolder(&#39;571666&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/nodejs&#39;"><div id="text_571666" style="color: #666666;">nodejs <span class="c_cnt">(7)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_571666_children" style="display:none">
							</div>
						<table id="category_665789" cellpadding="0" cellspacing="0"><tbody><tr>
					<td class="ib" style="width:39px; font-size: 1px; background-image: url(&#39;https://t1.daumcdn.net/tistory_admin/blogs/image/tree/dot_purple/navi_back_noactive_end.gif"><a class="click" onclick="toggleFolder(&#39;665789&#39;)"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/tab_isleaf.gif" width="39" alt=""></a></td>
					<td>
						<table cellpadding="0" cellspacing="0" style="background-color: #f8f8f8;"><tbody><tr>
								<td class="branch3" onclick="window.location.href=&#39;/category/angularjs2&#39;"><div id="text_665789" style="color: #666666;">angularjs2 <span class="c_cnt">(5)</span></div></td>
							</tr></tbody></table>
					</td>
				</tr></tbody></table>
			<div id="category_665789_children" style="display:none">
							</div>
				</td>
</tr></tbody></table>
								</div>
							
							<!-- 태그목록 모듈 -->
								<div id="tagbox">
									<h3>태그목록</h3>
									<ul>
										
											<li><a href="http://netframework.tistory.com/tag/Linq" class="cloud4"> Linq</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/XML" class="cloud4"> XML</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Karma" class="cloud4"> Karma</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/controller" class="cloud4"> controller</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/%EC%A5%90%EB%B0%95%EC%9D%B4" class="cloud4"> 쥐박이</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/hibernate" class="cloud4"> hibernate</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/MVC" class="cloud3"> MVC</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/ASP%20.NET%20MVC" class="cloud4"> ASP .NET MVC</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/RUBY" class="cloud4"> RUBY</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/WEB" class="cloud3"> WEB</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/JavaScript" class="cloud4"> JavaScript</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/java" class="cloud1"> java</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/NHibernate" class="cloud4"> NHibernate</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Spring" class="cloud3"> Spring</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Pro%20LINQ" class="cloud4"> Pro LINQ</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Code%20Tip" class="cloud4"> Code Tip</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Nodejs" class="cloud4"> Nodejs</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/maven" class="cloud4"> maven</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/.net" class="cloud3"> .net</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Head%20First%20Design%20Pattern" class="cloud4"> Head First Design Pattern</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/jasmine" class="cloud4"> jasmine</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/c%23" class="cloud4"> c#</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/jquery" class="cloud4"> jquery</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/angularJS" class="cloud4"> angularJS</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/angular2" class="cloud4"> angular2</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/Design%20Patterns" class="cloud4"> Design Patterns</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/JPA" class="cloud4"> JPA</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/test" class="cloud4"> test</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/gradle" class="cloud4"> gradle</a></li>
										
											<li><a href="http://netframework.tistory.com/tag/C%23%204.0" class="cloud4"> C# 4.0</a></li>
										
									</ul>
								</div>
							
							<!-- 최근 포스트 모듈 -->
								<div id="recentPost">
									<h3>최근에 올라온 글 </h3>
									<ul>
										
											<li>
												<a href="http://netframework.tistory.com/entry/PKI-%EC%8B%9C%EC%8A%A4%ED%85%9C"> PKI 시스템.</a>
												<span class="cnt"><span id="commentCountOnRecentEntries457"></span></span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/entry/nodejs-pm2-git%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-Dockfile-%EA%B5%AC%EC%84%B1"> nodejs, pm2, git을...</a>
												<span class="cnt"><span id="commentCountOnRecentEntries456"></span></span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/entry/gradle-%EC%A0%95%EB%A6%AC-queryDSL-code-generate-v-4x"> gradle 정리 - quer...</a>
												<span class="cnt"><span id="commentCountOnRecentEntries455">(4)</span></span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/entry/Dependency-Injection"> Dependency Injection.</a>
												<span class="cnt"><span id="commentCountOnRecentEntries454"></span></span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/entry/Data-Binding"> Data Binding.</a>
												<span class="cnt"><span id="commentCountOnRecentEntries453"></span></span>
											</li>
										
									</ul>
								</div>
							
							<!-- 최근 댓글 모듈 -->
								<div id="recentComment">
									<h3>최근에 달린 댓글</h3>
									<ul id="recentComments">
										
											<li>
												<a href="http://netframework.tistory.com/424#comment14501189">찾아봤던 글 중 가...</a>
												<span class="info">
													<span class="name">타디스</span>
													<span class="date">04.11</span>
												</span>	
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/377#comment14414110">개념 잡는데 많은...</a>
												<span class="info">
													<span class="name">채대</span>
													<span class="date">2017</span>
												</span>	
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/423#comment14288085">좋은글 잘봤습니다....</a>
												<span class="info">
													<span class="name">Gunju</span>
													<span class="date">2017</span>
												</span>	
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/448#comment14237224">엄청 도움 받고 갑...</a>
												<span class="info">
													<span class="name">판다</span>
													<span class="date">2017</span>
												</span>	
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/385#comment14213022">꼰대 개발자들에게...</a>
												<span class="info">
													<span class="name">moonko</span>
													<span class="date">2017</span>
												</span>	
											</li>
										
									</ul>
								</div>
							
							<!-- 최근 트랙백 모듈 -->
								<div id="recentTrackback">
									<h3>최근에 받은 트랙백</h3>
									<ul>
										
											<li>
												<a href="http://netframework.tistory.com/366#trackback1593690">WebLogic, JBoss 그...</a>
												<span class="info">
													<span class="name">오픈나루</span>
													<span class="date">2014</span>
												</span>	
											</li>
										
											<li>
												<a href="http://netframework.tistory.com/364#trackback1297436">자바 개발에 대한...</a>
												<span class="info">
													<span class="name">기록하기</span>
													<span class="date">2013</span>
												</span>	
											</li>
										
											<li>
												<a href="http://netframework.tistory.com/221#trackback934555">MVC 모델 정리.</a>
												<span class="info">
													<span class="name">재밌게 즐기는 프로..</span>
													<span class="date">2009</span>
												</span>	
											</li>
										
											<li>
												<a href="http://netframework.tistory.com/228#trackback877463">오라클, 태양을 삼...</a>
												<span class="info">
													<span class="name">시리니</span>
													<span class="date">2009</span>
												</span>	
											</li>
										
									</ul>
								</div>
							
							<!-- 최근 보관함 모듈 -->
								<div id="archive">
									<h3>글 보관함</h3>
									<ul>
										
											<li>
												<a href="http://netframework.tistory.com/archive/201707">2017/07 </a>
												<span class="cnt">(1)</span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/archive/201612">2016/12 </a>
												<span class="cnt">(1)</span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/archive/201610">2016/10 </a>
												<span class="cnt">(1)</span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/archive/201609">2016/09 </a>
												<span class="cnt">(5)</span>
											</li>
										

											<li>
												<a href="http://netframework.tistory.com/archive/201604">2016/04 </a>
												<span class="cnt">(2)</span>
											</li>
										
									</ul>
								</div>
							
							<!-- 달력 모듈 -->
								<div id="calendar">
									<h3>달력</h3>
											<table class="tt-calendar" cellpadding="0" cellspacing="1" style="width: 100%; table-layout: fixed">
			<caption class="cal_month">
				<a href="http://netframework.tistory.com/archive/201804" title="1개월 앞의 달력을 보여줍니다.">«</a>
				&nbsp;
				<a href="http://netframework.tistory.com/archive/201805" title="현재 달의 달력을 보여줍니다.">2018/05</a>
				&nbsp;
				<a href="http://netframework.tistory.com/archive/201806" title="1개월 뒤의 달력을 보여줍니다.">»</a>
			</caption>
			<thead>
			<tr>
				<th class="cal_week2">일</th>
				<th class="cal_week1">월</th>
				<th class="cal_week1">화</th>
				<th class="cal_week1">수</th>
				<th class="cal_week1">목</th>
				<th class="cal_week1">금</th>
				<th class="cal_week1">토</th>
			</tr>
			</thead>
			<tbody>
					<tr class="cal_week cal_current_week">
			<td class="cal_day1">&nbsp;</td>
			<td class="cal_day1">&nbsp;</td>
			<td class=" cal_day cal_day3">1</td>
			<td class=" cal_day cal_day3">2</td>
			<td class=" cal_day cal_day4">3</td>
			<td class=" cal_day cal_day3">4</td>
			<td class=" cal_day cal_day3">5</td>
		</tr>
		<tr class="cal_week">
			<td class=" cal_day cal_day_sunday cal_day3">6</td>
			<td class=" cal_day cal_day3">7</td>
			<td class=" cal_day cal_day3">8</td>
			<td class=" cal_day cal_day3">9</td>
			<td class=" cal_day cal_day3">10</td>
			<td class=" cal_day cal_day3">11</td>
			<td class=" cal_day cal_day3">12</td>
		</tr>
		<tr class="cal_week">
			<td class=" cal_day cal_day_sunday cal_day3">13</td>
			<td class=" cal_day cal_day3">14</td>
			<td class=" cal_day cal_day3">15</td>
			<td class=" cal_day cal_day3">16</td>
			<td class=" cal_day cal_day3">17</td>
			<td class=" cal_day cal_day3">18</td>
			<td class=" cal_day cal_day3">19</td>
		</tr>
		<tr class="cal_week">
			<td class=" cal_day cal_day_sunday cal_day3">20</td>
			<td class=" cal_day cal_day3">21</td>
			<td class=" cal_day cal_day3">22</td>
			<td class=" cal_day cal_day3">23</td>
			<td class=" cal_day cal_day3">24</td>
			<td class=" cal_day cal_day3">25</td>
			<td class=" cal_day cal_day3">26</td>
		</tr>
		<tr class="cal_week">
			<td class=" cal_day cal_day_sunday cal_day3">27</td>
			<td class=" cal_day cal_day3">28</td>
			<td class=" cal_day cal_day3">29</td>
			<td class=" cal_day cal_day3">30</td>
			<td class=" cal_day cal_day3">31</td>
			<td class="cal_day2">&nbsp;</td>
			<td class="cal_day2">&nbsp;</td>
		</tr>
			</tbody>
		</table>
		
								</div>
							
							<!-- 링크 모듈 -->
								<div id="link">
									<h3>링크</h3>
									<ul>
										
											<li>
												<a href="http://monac.egloos.com/" onclick="window.open(this.href); return false"> Monaca.</a>
											</li>
										

											<li>
												<a href="http://color.egloos.com/" onclick="window.open(this.href); return false"> 天體觀測.</a>
											</li>
										

											<li>
												<a href="http://cool120p.egloos.com/" onclick="window.open(this.href); return false"> 전도서에 바치는 장미.</a>
											</li>
										

											<li>
												<a href="http://agile.egloos.com/" onclick="window.open(this.href); return false"> 애자일 이야기.</a>
											</li>
										

											<li>
												<a href="http://sizuha.egloos.com/" onclick="window.open(this.href); return false"> Moe Oriented Engin...</a>
											</li>
										

											<li>
												<a href="http://kwon37xi.egloos.com/" onclick="window.open(this.href); return false"> 까먹지말자!.</a>
											</li>
										

											<li>
												<a href="http://keijingun.egloos.com/" onclick="window.open(this.href); return false"> 케이진은 살아있다.</a>
											</li>
										

											<li>
												<a href="http://www.hanselman.com/blog/" onclick="window.open(this.href); return false"> Scott Hanselman's...</a>
											</li>
										

											<li>
												<a href="http://www.misfitgeek.com/" onclick="window.open(this.href); return false"> Microsoft's Opinio...</a>
											</li>
										

											<li>
												<a href="http://skeom21.blogspot.com/" onclick="window.open(this.href); return false"> WHOAMI.</a>
											</li>
										

											<li>
												<a href="http://syj8.egloos.com/" onclick="window.open(this.href); return false"> Fresh.</a>
											</li>
										

											<li>
												<a href="http://touhou.egloos.com/" onclick="window.open(this.href); return false"> 博麗神社觀測.</a>
											</li>
										

											<li>
												<a href="http://bobbyryu.blogspot.com/" onclick="window.open(this.href); return false"> 류한석의 Peopleware.</a>
											</li>
										

											<li>
												<a href="http://weblogs.asp.net/scottgu/default.aspx" onclick="window.open(this.href); return false"> ScottGu's Blog.</a>
											</li>
										

											<li>
												<a href="http://funnygangstar.tistory.com/" onclick="window.open(this.href); return false"> eXtreme Code.</a>
											</li>
										

											<li>
												<a href="http://www.ibm.com/developerworks/blogs/" onclick="window.open(this.href); return false"> IBM development wo...</a>
											</li>
										

											<li>
												<a href="http://dotnetshoutout.com/" onclick="window.open(this.href); return false"> DotNetShoutout.</a>
											</li>
										

											<li>
												<a href="http://byung.egloos.com/" onclick="window.open(this.href); return false"> 기억속으로 날다(Wa...</a>
											</li>
										

											<li>
												<a href="http://blog.powerumc.kr/" onclick="window.open(this.href); return false"> UMC BLOG 에 오신것...</a>
											</li>
										

											<li>
												<a href="http://gongdosoft.com/" onclick="window.open(this.href); return false"> 유령회사 공도소프트.</a>
											</li>
										

											<li>
												<a href="http://nekomaru.tistory.com/" onclick="window.open(this.href); return false"> nekomaru.</a>
											</li>
										

											<li>
												<a href="http://www.javapattern.info/" onclick="window.open(this.href); return false"> Why do you dread c...</a>
											</li>
										

											<li>
												<a href="http://blog.doortts.com/" onclick="window.open(this.href); return false"> 여름으로 가는 문.</a>
											</li>
										

											<li>
												<a href="http://heedae.blogspot.com/" onclick="window.open(this.href); return false"> Poetry.</a>
											</li>
										

											<li>
												<a href="http://blog.naver.com/visualdb" onclick="window.open(this.href); return false"> 김정선의 SQL Serve...</a>
											</li>
										

											<li>
												<a href="http://lazydeveloper.net/" onclick="window.open(this.href); return false"> Lazy Developer.</a>
											</li>
										

											<li>
												<a href="http://resisa.tistory.com/" onclick="window.open(this.href); return false"> 심플하게~.</a>
											</li>
										

											<li>
												<a href="http://msdn.microsoft.com/magazine" onclick="window.open(this.href); return false"> MSDN Magazine: RSS...</a>
											</li>
										

											<li>
												<a href="http://toxicalice.tistory.com/" onclick="window.open(this.href); return false"> 앨리스의 화려한 생애.</a>
											</li>
										

											<li>
												<a href="http://trendwatcher.tistory.com/" onclick="window.open(this.href); return false"> 트렌드와처.</a>
											</li>
										

											<li>
												<a href="http://miwon.egloos.com/" onclick="window.open(this.href); return false"> TextHolic Back in...</a>
											</li>
										

											<li>
												<a href="http://skc3779.tistory.com/" onclick="window.open(this.href); return false"> IT Story.</a>
											</li>
										
									</ul>
								</div>
							
							<!-- 카운터 모듈 -->
								<div id="counter">
									<dl>
										<dt>Total</dt><dd class="total">386,676</dd>
										<dt class="today">Today</dt><dd>79</dd>
										<dt class="yesterday">Yesterday</dt><dd>229</dd>
									</dl>
								</div>
							
						
						
							<!-- RSS 링크 -->
								<div id="btnRSS">
									<a href="http://netframework.tistory.com/rss" onclick="window.open(this.href); return false"><img src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/btn_rss.gif" alt="rss"></a>
								</div>
							
					</div><!-- sidebar close -->
					<div class="clear"></div>
					<hr>
	      </div><!-- wrapContent close -->
			</div><!-- container close -->
		</div>		
	</div>
	<div id="wrapBtm">
		<div class="bCenter"></div><div class="bRight"></div>
	</div>
	<div id="footer">
		<div class="footMenu">
			<a href="http://netframework.tistory.com/location">지역로그</a> :
			<a href="http://netframework.tistory.com/tag">태그로그</a> :
		    <a href="http://netframework.tistory.com/media">미디어로그</a> : 
			<a href="http://netframework.tistory.com/guestbook">방명록</a> :
			<a href="http://netframework.tistory.com/manage">관리자</a> : 
			<a href="http://netframework.tistory.com/manage/entry/post">글쓰기</a>
		</div>
		<div class="copyright">
			<a href="http://netframework.tistory.com/"> Y2K</a>'s Blog is powered by <a href="http://daum.net/" onclick="window.open(this.href); return false">Daum</a>  / Designed by <a href="http://www.tistory.com/">Tistory</a>
		</div>
	</div>

<script type="text/javascript" charset="euc-kr" src="http://log.inside.daum.net/dwi_log/js/dwi.js"></script>
<script type="text/javascript">
	_dwiPID="d-JtR-272";
	if(typeof(_dwiCatch) == "function") { _dwiCatch();}
</script>
<script>
    (function($) {
        $("body").bind('copy', function (e) {

            var url = document.location.href,
                decodedUrl = decodeURI(url),
                selection = window.getSelection();


            if (typeof window.getSelection == "undefined") {//IE8 or earlier...
                event.preventDefault();

                var pagelink = '\n\n 출처: ' + decodedUrl,
                    copytext = selection + pagelink;

                if (window.clipboardData) {
                    window.clipboardData.setData('Text', copytext);
                }
                return;
            }
            var body_element = document.getElementsByTagName('body')[0];

            //if the selection is short let's not annoy our users
            if (("" + selection).length < 30) return;

            //create a div outside of the visible area
            var newdiv = document.createElement('div');
            newdiv.style.position = 'absolute';
            newdiv.style.left = '-99999px';
            body_element.appendChild(newdiv);
            newdiv.appendChild(selection.getRangeAt(0).cloneContents());

            //we need a <pre> tag workaround
            //otherwise the text inside "pre" loses all the line breaks!
            if (selection.getRangeAt(0).commonAncestorContainer.nodeName == "PRE") {
                newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
            }

            newdiv.innerHTML += '<br /><br />출처: <a href="' + url + '">' + decodedUrl + '</a> [Programming is Fun]';

            selection.selectAllChildren(newdiv);
            window.setTimeout(function () {
                body_element.removeChild(newdiv);
            }, 200);

        });
    })(tjQuery);
</script><script src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/lightbox.min.js.다운로드"></script><div id="lightboxOverlay" class="lightboxOverlay" style="display: none;"></div><div id="lightbox" class="lightbox" style="display: none;"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="><div class="lb-nav"><a class="lb-prev" href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"></a><a class="lb-next" href="http://netframework.tistory.com/entry/Spring-4x%EC%97%90%EC%84%9C%EC%9D%98-WebSocket-SockJS-STOMP"></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>
	<script>
	    lightbox.option({
			"fadeDuration": 200,
		    "resizeDuration": 200,
		    "wrapAround": false,
			"albumLabel": "%1 / %2",
			"fitImagesInViewport":true ,
			"stopEvent": false
	    })
	</script><script type="text/javascript">
var _tiq = 'undefined' !== typeof _tiq ? _tiq : [];
_tiq.push(['__setConfig', {enableScroll:true, enableClick:true, enableButton:true}]);
_tiq.push(["__setParam", "svcdomain", "user.tistory.com"]);
(function(d) {
	var se = d.createElement('script'); se.type = 'text/javascript'; se.async = true;
	se.src = location.protocol + '//m2.daumcdn.net/tiara/js/td.min.js';
	var s = d.getElementsByTagName('head')[0]; s.appendChild(se);
})(document);
_tiq.push(['__setParam', 'param_ex', JSON.stringify({"userId":"119156","blogId":"328486","entryId":"424"})]);
_tiq.push(['__trackPageview']);
_tiq.push(['__content', 't_content', {
'c_id':'328486_424', 
'c_title':'Spring 4.x에서의 WebSocket, SockJS, STOMP', 
'type':'article', 
'author':'', 
'author_id':'119156', 
'cp':'Programming is Fun', 
'cp_id':'328486', 
'regdata':'2014-07-25 22:35:00', 
'plink':'http://netframework.tistory.com/424', 
'media':'pcweb', 
}]);
var addEvent = function (evt, fn) { window.addEventListener ? window.addEventListener(evt, fn, false) : window.attachEvent('on' + evt, fn); };
var removeEvent = function(evt, fn) { window.removeEventListener ? window.removeEventListener(evt, fn, false) : window.detachEvent('on' + evt, fn);};
var ua = navigator.userAgent.toLowerCase(); var isIOS = /iP[ao]d|iPhone/i.test(ua);
var contentExStat = function() {
		_tiq.push(['__content', 't_content_ex', {
			'data_type':'usage'
, 'meta': {
'c_id':'328486_424', 
'c_title':'Spring 4.x에서의 WebSocket, SockJS, STOMP', 
'type':'article', 
'author':'', 
'author_id':'119156', 
'cp':'Programming is Fun', 
'cp_id':'328486', 
'regdata':'2014-07-25 22:35:00', 
'plink':'http://netframework.tistory.com/424', 
'media':'pcweb', 
}
}]);
		removeEvent(isIOS ? 'pagehide' : 'beforeunload', contentExStat);
};
addEvent(isIOS ? 'pagehide' : 'beforeunload', contentExStat);
</script>
<script type="text/javascript">window.roosevelt_params_queue = window.roosevelt_params_queue || []; window.roosevelt_params_queue.push({channel_id: "dk", channel_label: 'tistory'});</script>
<script type="text/javascript" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/roosevelt_dk_bt.js.다운로드" async=""></script><script type="text/javascript">if(window.console!=undefined){setTimeout(console.log.bind(console,"%cTISTORY","font:8em Arial;color:#EC6521;font-weight:bold"),0);setTimeout(console.log.bind(console,"%c  나를 표현하는 블로그","font:2em sans-serif;color:#333;"),0);}</script><iframe style="position:absolute;width:1px;height:1px;left:-100px;top:-100px" src="./Programming is Fun __ Spring 4.x에서의 WebSocket, SockJS, STOMP_files/api.html" id="editEntry"></iframe>		<div id="tistorytoolbarid" style="position:absolute;height:20px;top:4px;right:0px;background-color:transparent;background-image:none;z-index:11;">
			<div class="tistorytoolbar tt_menubar_login">
				<div class="tt_menubar_whiteBar">
					<div id="ttMenubarInnerWrap" class="tt_menubar_inner">
						<div class="tt_menubar_bg_toolbar"></div>
						<h2 style="display:none;">티스토리 툴바</h2>
						<div class="tt_menubar_item tt_menubar_mainmenu"><a class="tt_menubar_link_tit tt_menubar_link_tit_eng" href="http://www.tistory.com/">Tistory</a>
						</div>
						<div class="tt_menubar_item tt_menubar_bg_bar"></div>
						<div class="tt_menubar_item tt_menubar_logout"><a class="tt_menubar_link_tit" href="https://www.tistory.com/auth/login">로그인</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="layer_sns" class="layer_sns">
        <div class="bg_layer"></div>
        <ul class="list_sns">
            <li><a class="ico_sns ico_fb" data-service="facebook">페이스북 공유하기</a></li>
            <li><a class="ico_sns ico_kt" data-service="kakaotalk">카카오톡 공유하기</a></li>
            <li><a class="ico_sns ico_ks" data-service="kakaostory">카카오스토리 공유하기</a></li>
            <li><a class="ico_sns ico_tw" data-service="twitter">트위터 공유하기</a></li>
        </ul>
        <button type="button" class="btn_close"><span class="ico_sns ico_close">sns공유하기 레이어 닫기</span></button>
    </div>
</body></html>